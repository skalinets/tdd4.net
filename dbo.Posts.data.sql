INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'3df1ab65-8cdf-42d2-a437-094dfd03eb55', N'Coding dojo как путь к просветлению', N'<p>Пару дней (блин, уже неделю) назад были вместе с <a href="http://www.beletsky.net/" target="_blank">Сашей Белецким</a> на coding-dojo, где (даже) заняли третье место. Мероприятие выдалось весьма прикольным и поучительным. Среди прочего я постиг сайт&nbsp;<a href="http://cyber-dojo.com/" target="_blank">http://cyber-dojo.com/</a>. Я слышал про него еще раньше -- на XP Days клёвый <a href="http://johannesbrodwall.com/" target="_blank">дядька Йоханнес</a> про него рассказывал. Но тогда я зашел и сразу ушел. Не понравилось мне писать код без привычной IDE и инструментов - xUnit, NSubstitute и т.д.</p>
<p>А вот на coding-dojo я вдруг осознал всю мощь ресурса. Ведь если вспомнить, что <a href="http://en.wikipedia.org/wiki/Kata_(programming)" target="_blank">kata </a>-- это тренировка с целью довести навыки до автоматизма, то можно представить этот сайт как такой себе спортзал. Суровый, спартанский, но от этого еще более крутой.</p>
<!--more-->
<p>Умение писать код в web, без intelli sense, поддержки рефакторинга, автопереименований переменных и т.д. -- это круто. Сразу понимаешь, что в студии код пишется в основном с помощью аббревиатур и различных комбинаций типа ctrl/alt-enter/space (привет решарперу). И очень классно понимать, что ты можешь написать его и просто так. Даже в блокноте. И ты понимаешь, что не нравится компилятору в твоем коде без красных подчеркиваний. Такой себе возврат к истокам.</p>
<p>Плюс реальная тренировка навыков печати. Учишься печатать // arrange // act // assert на автомате :).</p>
<p>Все это здорово помогает выбраться из зоны комфорта, которая при этом только расширяется. Это как учить другой язык -- сначала стремно и непонятно, зато потом чувствуешь себя полиглотом :).</p>
<p>Поэтому мой вам совет -- попробуйте пописать код на этом сайте. Сразу может не понравится, но главное -- не сдаваться. И в конце концов вы поймете, что это действительно круто. И когда вернетесь к своей уютной IDE-шечке, вы по новому оцените те преимущества, которые она дает, и при этом не будете боятся кодить вне нее.&nbsp;</p>', N'Coding dojo как путь к просветлению', N'2012-01-27 01:00:20', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'b5769059-1d8d-4dc8-a138-09cb38dcb634', N'Про тестовые проекты', N'<p class="MsoNormal">Недавно я писал про рефакторинг нашего солюшена. Эффект был потрясающим &ndash; уменьшение времени сборки с 8 минут до 1.5 минут (худший вариант &ndash; Rebuild All + неблагоприятная фаза Луны) или 10 секунд (обычный Build Solution после изменения пары файлов).</p>
<p class="MsoNormal">Но к хорошему привыкаешь быстро, а плохое замечаешь сразу. Я как-то словил себя на мысли, что работать в стиле TDD все равно не очень комфортно. Получается так: меняешь какой-то класс в проекте, который имеет мало зависимостей, запускаешь тесты, а студия начинает старательно пересобирать всё. В итоге на каждый запуск теста (даже одного) тратится около 5-10 секунд. Вроде и немного, но так как тесты нужно запускать часто, со временем это начинает понемногу волновать.&nbsp;</p>
<p class="MsoNormal">Как-то, созерцая процесс &nbsp;очередной сборки солюшена в моем мозгу что-то щелкнуло. И внезапно понял, в чем проблема.</p>
<!--more-->
<p class="MsoNormal">Дело в том, что у нас все тесты находятся в одном большом проекте. Когда-то эта мысль казалась мне очень ловкой и удачной &ndash; можно было бы спокойно переносить классы из одного проекта в другой, и при этом не особо заморачиваться с тестами. Плюс &ndash; легче было запускать один проект с тестами, чем много таких проектов. Недостатков такого подхода я сразу не заметил. А они есть, и самый главный из них &ndash; медлительность. Поскольку проект с тестами &ndash; один и он зависит от остальных проектов, то при изменении хотя бы одного из них он тоже пересобирается. А он большой (~5000 тестов) и опять же, проверяет все свои зависимости перед сборкой (то есть все). В результате занимает этот процесс время, местами достаточное для того, чтобы возненавидеть TDD. Так как ненависть к TDD не в наших приоритетах, вместо этого мы попробуем проблему порешать по-хорошему. &nbsp;И пока что лучшим решением мне кажется дележ тестов на несколько проектов.&nbsp;</p>
<p class="MsoNormal">Комизм ситуации в том, что это решение является прямой противоположностью наших первоначальных действий по оптимизации солюшена. Напомню, что это было уменьшение количества проектов.&nbsp;</p>
<p class="MsoNormal">Выходит, что наш рецепт счастья &ndash; уменьшение количества основных проектов, и одновременное увеличение количества тестовых проектов. Ожидания пока такие, что время загрузки и полной сборки солюшена увеличится, зато время запуска тестов уменьшиться.&nbsp;</p>
<p class="MsoNormal">Осталось дело за малым &ndash; попробовать теорию в действии.&nbsp;</p>', N'Про тестовые проекты', N'2011-09-05 07:21:55', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'74a232f4-b149-4f41-b268-0f7d4760aa3f', N'Чистый код: правило бойскаута', N'<p>Недавно закончил читать&nbsp;<a href="http://amzn.to/h1Ppzx" target="_blank">книгу дядьки Боба "Чистый код"</a>. Книжка очень интересная и полезная. В ней много дельных советов, подкрепленных обоснованиями "почему нужно делать именно так". Я планурую серию постов по этой теме.</p>
<p>Одним из прикольных откровений для меня стало&nbsp;<strong><a href="http://www.transl-gunsmoker.ru/2010/08/897.html" target="_blank">правило бойскаута</a></strong>:&nbsp;<span style="line-height: 15px; font-family: arial, sans-serif; font-size: small;">Всегда оставляйте лагерь чище, чем вы его застали</span>. Ниже один из примеров его примения.</p>
<!--more-->
<p>Есть у нас вот такой код.&nbsp;<span style="font-family: monospace; white-space: pre;"> </span></p>
<pre class="brush:csharp">private Task GetTask()
{
    Task task;
    WorkflowSyncLock.WorkflowLock.EnterReadLock();
    try
    {
        task = GetNextTask();
    }
    finally
    {
        WorkflowSyncLock.WorkflowLock.ExitReadLock();
    }
    return task;
}

private Task GetNextTask()
{
    return queue.GetTask(taskTypes);
}
</pre>
<p>Код вроде бы и небольшой, но в глаза бросаются вещи, которые можно в нем исправить. Сюда входит следующее:</p>
<ol>
<li>Названия методов не проясняют их назначения. GetTask() вызывает GetNextTask(). А на самом деле онпросто оборачивает вызов последнего в блокировку чтения.&nbsp;</li>
<li>Сам метод GetTask() очень маленький, вызывается из одного места и смысла особого не имеет.</li>
<li>Переменная task занимает целых три строчки, хотя она вообще не нужна. При написании этого метода наверное опасались того, что если сделать&nbsp;<strong>return</strong>, то блокировка не снимется. Но мы-то знаем, что finally -- это такая штука, которая работает всегда.</li>
</ol>
<p>В общем, вооруженные такими выводами мы проделываем следующие операции:</p>
<ul>
<li>Инлайним GetNextTask();</li>
<li>Переименовываем GetTask() в&nbsp;GetTaskFromQueue();</li>
<li>Перемещаем объявление task и возврат из метода внутрь try/finally.</li>
</ul>
<p>Получается вот такой код:</p>
<pre class="brush:csharp">private Task GetTaskFromQueue()
{
    WorkflowSyncLock.WorkflowLock.EnterReadLock();
    try
    {
        return queue.GetTask(taskTypes);
    }
    finally
    {
        WorkflowSyncLock.WorkflowLock.ExitReadLock();
    }
}</pre>
<p>Времени на выполнение этих действий потребовалось в много раз меньше, чем на написание этого поста. А в результате у нас стал более понятный и чистый (хоть и не идеальный -- ведь нет предела совершенства) код.</p>
<p>Если взять этот принцип себе на вооружение и постоянно улучшать код, в котором что-то меняем (хоть даже совсем чуть-чуть), то лучше будет и самому разработчику и команде в целом.</p>', N'Чистый код', N'2011-03-14 06:41:32', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'a1893b64-864a-4503-b44a-169a00b52c99', N'TDD мантра: Red, Green, Refactor', N'<p>Одно из самых ключевых понятий TDD одновременно есть и одним из самых трудно укладываемых в мозг для начинающих. Когда я впервые о нем услышал, то поначалу подумал, что это бред. Впрочем, довольно быстро я признал, что в этом что-то есть, но не в том виде, в каком преподносилось. Если кое-что немного заменить (<a href="http://j.mp/eUcAcd" target="_blank">кеп</a>&nbsp;нашептывал, что нужно тестировать уже существующий код, а не писать код по тесту; ну или хотя бы не запускать заведомо неправильный код) -- то можно это попробовать поиспользовать. Регрессия и приемка были самыми очевидными сценариями использования юнит тестов. А именно:&nbsp;</p>
<ul>
<li>пишем код</li>
<li>пишем тест, который проверяет код</li>
<li>запускаем все тесты -- ничего не сломалось (ура!)</li>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="http://reddevnews.com/~/media/ECG/visualstudiomagazine/Images/2007/11/listingsID_148_0711_rdn_tb%20gif.ashx" alt="" width="389" height="411" /></p>
<p>И только через некоторое время мне открылся истинный смысл этой мантры.&nbsp;Итак, давайте по порядку:</p>
<!--more-->
<h3>RED</h3>
<h4>Что делаем?</h4>
<p>Пишем тест, который проверяет планируемый функционал. Запускаем тест и смотрим, как он падает. Упасть он должен, потому что кода, который бы делал то, что тест проверяет, еще нет. Если тест не падает, задумываемся, почему так (может быть тест избыточный, или неявно мы уже раньше реализовали требуемый функционал), и в зависимости от ситуации или переходим к третьему шагу (REFACTOR), или удаляем этот тест. Если падает, то переходим к следущему шагу (GREEN).</p>
<h4>Зачем?</h4>
<p>Фундаментальный вопрос. Понимание ответа на него буквально раскрывает всю сущность TDD. Поначалу (а некоторым -- не только поначалу) кажется, что смысла в таких действиях нет. Как можно потестить то, чего нет? Почему бы не написать тест после того, как станет понятно, что нужно тестировать? Для меня в свое время стало откровением цитата в каком-то блоге (забыл уже ссылку): "TDD -- это как поход в магазин со списком покупок". Если список есть, то мы купим то, что нам нужно. Если нету -- можем или купить лишнее, или не купить нужное. Тесты перед кодом -- это составление списка. Тест, фактически, является первым клиентом кода, который он тестирует. Отсюда есть несколько позитивных моментов:</p>
<ul>
<li>Понятно, <strong>как дожен выглядеть снаружи код</strong>, который мы тестируем</li>
<li>Размышления о том, как же протестировать код обычно приводят к<strong> более простому и позитивному дизайну</strong> самого кода.</li>
<li>Возможность<strong>&nbsp;проверить правильность кода есть с самого начала</strong></li>
</ul>
<h3>GREEN</h3>
<h4>Что делаем?</h4>
<p>Пишем код, <strong>достаточный для того, чтобы тест прошел</strong>. Главное правило -- код не должен делать больше, чем от него ожидают тесты.&nbsp;Как только наш тест становится зеленым, мы запускаем все существующие тесты в проекте. Если они все зеленые -- переходим к третьему шагу (REFACTORING). Часто запуск всех тестов можно пропустить, или заменить запуском тестов, которые могли быть затронуты нашими изменениями.&nbsp;</p>
<h4>Зачем?</h4>
<p>Здесь есть несколько вопросов (и ответов тоже).</p>
<ul>
<li><em>Зачем делать тест зеленым?</em> Тут все просто -- чтобы реализовать требуемый фунционал.</li>
<li><em>Зачем писать код только необходимый для прохождения тестов?</em> Это не для всех очевидно. Сначала нужно ответить на вопрос, а зачем нужен дополнительный код? Если для дополнительного поведения, то у нас должен быть тест на такое поведение. Быть может, мы планируем добавить такой тест в будущем (может даже следующим за тем, что мы сейчас разрабатываем). Но вот какое дело -- представьте, что мы прервемся и не напишем этот следующий тест. А потом, когда возобновим работу, просто забудем про него. Что будет в итоге? Будет избыточный код, который только частично покрыт тестами. Если потом этот код поломается, тесты могут не заметить этого -- и в результате появятся ошибки. Этот принцип еще называется&nbsp;<a href="http://en.wikipedia.org/wiki/You_ain''t_gonna_need_it" target="_blank">YAGNI</a>, вольный (и при этом авторский) перевод -- ОТН (Оно Тебе Надо?!).</li>
<li><em>Зачем запускать все тесты? </em>Поскольку при правильном подходе тесты покрывают максимум функционала, когда они все зеленые -- это означает, что все работает, как и было задумано. Если у вас есть&nbsp;Continuous&nbsp;integration сервер, <span style="text-decoration: line-through;">можно</span>&nbsp;нужно поручить это ответственное задание ему. Если у вас такого сервера нет, значит -- вы что-то делаете неправильно.</li>
</ul>
<h3>REFACTOR</h3>
<h4>Что делаем?</h4>
<p>После того, как мы убедились, что код работает, его можно привести в порядок. Поскольку у нас есть покрытие тестами, мы можем не бояться, что что-то сломается в результате рефакторинга.</p>
<h4>Зачем?</h4>
<p>Обычно первоначальный вариант работающего кода выглядит не очень здорово. Самое быстрое решение часто бывает самым грязным. Многие на этом и останавливаются, думая что-то вроде "какая разница, как оно выглядит -- лишь бы работало". Но я с этим не согласен. У меня есть как минимум две причины:</p>
<ul>
<li><strong>эстетика</strong>. "Понимаете, я -- эстет" (с) Мне как-то подсознательно всегда больше нравился чистый и красивый код. Причем у меня даже не было рационального объяснения, пока я не прочел книгу дядьки Боба &nbsp;<a href="http://j.mp/h1Ppzx" target="_blank">"Clean Code: A Handbook of Agile Software Craftsmanship"</a>. В которой я узнал вторую причину:</li>
<li><strong>экономия времени. </strong>Оказывается, программисты значительную часть своего времени не пишут код, а <strong>читают</strong> его. Мы читаем свой и чужой код перед тем, как добавить или изменить его. И время, необходимое на понимание, что же код делает, обратно пропорционально степени его чистоты. Даже свой код сложно прочитать через некотрое время, если он написан небрежно.&nbsp;</li>
</ul>
<h3>Итого</h3>
<p>Мантра описана. Циклы должны быть как можно более короткими. Если все делать, как надо -- большую часть времени код будет находится в рабочем состоянии, готовый к деплойменту в любой момент. Т.е. проект всегда<a href="http://j.mp/eLUaAy" target="_blank"> готов на N %</a>. &nbsp;Разработчики двигаются к результату мелкими но частыми шагами. В результате каждого шага виден прогресс -- что-то заработало. Этот прогесс можно рассматривать как небольшую награду самому себе. И получается еще один дополнительный источник мотивации (практически нашару).</p>
<p>Happy coding!</p>', N'TDD мантра: Red, Green, Refactor', N'2011-03-09 13:07:48', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'000d632b-3955-42f0-a901-181edf7b9460', N'Как стремительно вывести много переменных в лог', N'<p>Допустим, у вас есть некоторое количество&nbsp;<a href="http://govnokod.ru/">legacy кода</a>, и вам нужно понять, как и что в нем работает. Цепочки вызовов длинные, перегрузок методов много, и вам интересно, какие из них вызываются в конечном итоге. Можно, конечно, запустить отладчик, но у меня стойкое ощущение, что практически всегда в случаях, когда руки тянутся к отладчику, существуюет более удобное и быстрое решение. Практически в 100% таким решением будет банальный вывод значений интересующих нас переменных в консоль:</p>
<p>[[code]Console.WriteLine("v = " + v);[code]]</p>
<p>Это достаточно эффективная практика сама по себе, ведь добавив в нужные места такой вывод и запустив юнит тест, мы получим на выходе лог, над которым можно потупить и понять что к чему. Если же мы очень везучие и у нас есть возможность использовать <a href="http://www.ncrunch.net/">NCrunch</a>, то мы вообще будем видеть этот лог в реальном времени (меняем код --&gt; меняется лог). [|more|]</p>
<p>Но если таких переменных достаточно много (вот сейчас я смотрю на 4 перегрузки, где количество параметров меняется от двух до шести), то написание даже такого простого кода для вывода на консоль может начать угнетать и утомлять. И вместо копипаста начинаешь думать "Как бы написать поменьше, а сделать побольше?"</p>
<p>Вдохновленный <a href="http://antyadev.blogspot.com/2013/01/c-and-check-arguments-on-null-or-empty.html">примером</a> <a href="https://twitter.com/AntyaDev">@antyadev</a>,&nbsp;я пришел к такому вот простому методу:</p>
<p>[[code]</p>
<p>private void ReportArgs(object args)</p>
<p>{</p>
<p>&nbsp; &nbsp; args.GetType().GetProperties().ToList().ForEach(</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; p=&gt; Console.WriteLine(p.Name + " = ''" + p.GetValue(args, null) + "''"));</p>
<p>}</p>
<p>[code]]</p>
<p>И использовать его можно вот так:</p>
<p>[[code]</p>
<p>ReportArgs(new { path, mode, access, share, bufferSize, options });</p>
<p>// выводит:</p>
<p>// &nbsp; &nbsp;path = ''somesecrret path''</p>
<p>// &nbsp; &nbsp;mode = ''OpenOrCreate''</p>
<p>// &nbsp; &nbsp;access = ''ReadWrite''</p>
<p>// &nbsp; &nbsp;share = ''None''</p>
<p>// &nbsp; &nbsp;bufferSize = ''8''</p>
<p>// &nbsp; &nbsp;async = ''False''</p>
<p>[code]]</p>
<p>Со стороны может показаться хаком, но по-моему, весьма мило и главное -- эффективно.</p>', N'Как стремительно вывести много переменных в лог', N'2013-01-29 03:49:28', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'0df8ca8e-bd15-4795-be46-1d42b8464522', N'Что мне не нравится в C# (часть 1)', N'<p>Я уже давно программирую на C#. Мне нравится платформа .NET и сам язык. Но есть несколько моментов, которые я бы хотел улучшить, и изза которых я с некоторой долей зависти смотрю на другие языки.&nbsp;</p>
<p>Практически все эти моменты связаны с избыточностью языка. Когда-то мой товарищ сказал, что С++ лучше, чем Delphi, потому что фигурные скобочки набираются быстрее, чем begin/end. Тогда я ему не поверил, а сейчас думаю, что это очень правильная мысль. Чем лаконичнее язык, тем более продуктивен программист. Тупо, потому что нужно меньше печатать.&nbsp;</p>
<p>Как-то мы обсуждали Ruby, и один парень сказал, что на C# он тот же код написал бы более кратко. Меня это заинтересовало (потому что я как ни старался &mdash; получалось больше), и я попросил показать его код. Он тоже оказался длинее. На мой вопрос, в чем фишка, он мне ответил, что половину этого кода нагенерил Resharper :). Это было действительно смешно, потому что я на самом деле тоже не писал Ruby код в блокноте. Аналогично можно было бы утверждать, что на VB.NET кода надо писать меньше, потому что там студия генерит ключевые слова.</p>
<p>Но как бы то не было, на Ruby код получается более компактным, и это факт. За счет чего?</p>
<!--more-->
<h3>1. Статические методы и классы</h3>
<p>Если нам нужно определить метод, который мы знаем, как использовать, но не знаем, в какой класс засунуть, что мы делаем? Мы делаем статический класс и в нем &mdash; статический метод. Часто такие классы называются <strong>XXXUtils</strong> или <strong>XXXHelpers</strong>. Что в этом плохого? Ну, во-первых, лишние символы: чтобы определить метод, нам нужно определить класс, и так написать <strong>public static class ...</strong>&nbsp;; и потом, когда мы хотим использовать наш метод, нам нужно перед ним писать название класса: <strong>MySuperHelperUtils.MakeHappy(me);</strong>. Во-вторых, сама необходимость упаковки методов в классы, как по мне, ничем не оправдана, кроме идеологии "все должно быть в классах, это ж ООП язык". Помню, как, будучи Delphi разработчиком, я читал про Java и C# и удивлялся тому, что точка входа в приложении находится в каком-то классе и представлена статическим методом. Который нужно еще явно указывать среде, как стартовый :) Зачем это все?! &nbsp;</p>
<p>Вот прикольный пример:</p>
<pre class="brush: csharp;">var x = Math.Max(Math.Abs(Math.Sin(y)), Math.Log(z)));</pre>
<p>Я бы предпочел вынести <strong>Math</strong>. в <strong>using </strong>:) В Java вроде есть такое (называется, по-моему, static imports), но и там ведутся холиворы, правильно ли так делать.</p>
<h3>2. Объявления и приведения типов</h3>
<p>Только с версии 3.0 в язык добавили <strong>var</strong>. При чем добавили не просто так, для облегчения жизни программиста, а из-за LINQ. Это уже потом все подряд стали использовать <strong>var</strong> везде, где можно. И это намного удобнее, хочу признать. Но блин, ведь для поля класса все равно нужно явно указывать тип:</p>
<pre class="brush: csharp;">private Dictionary&lt;string, List&lt;int&gt;&gt; dic = new Dictionary&lt;string, List&lt;int&gt;&gt;(); // DRY? А шо это?</pre>
<p>Вот зачем это все надо так писать? Ведь в том же Boo, например, можно не указывать тип, почему в C# это нужно делать?</p>
<p>Или вот. Кто знает, зачем нужен оператор <strong>typeof</strong>? Не, ну понятно, что он нужен для того, чтобы указать тип, но вопрос в том, зачем для указания типа писать еще <strong>typeof</strong>? Почему нельзя сделать</p>
<pre class="brush: csharp;">Type myType = String; // вместо typeof(String)</pre>
<h3>3. Списки и словари</h3>
<p>Сравните:</p>
<pre class="brush: csharp;">map =&nbsp; {''circle''=&gt;1, ''triangle''=&gt;3, ''square''=&gt;4}</pre>
<p>с&nbsp;</p>
<pre class="brush: csharp;">//сколько надо cкобочек, чтобы порадовать компилятор??
var map = new Dictionary&lt;string, int&gt; { {"circle", 1}, {"triangle", 3}, {"square", 4}&nbsp;}; </pre>
<p>Не говорю уже про хеш с листами внутри. В Boo списки и хеши встроены в язык, а в C# в языке только убогие массивы, которые нафиг никому не нужны на самом деле :)</p>
<p>&nbsp;</p>
<p>В общем, грустно всё это. А вы как считаете? В следующих выпусках пройдемся еще по паре неудобных мест в языке.</p>', N'Что мне не нравится в C#', N'2012-06-03 14:56:57', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'dac6bd38-2b7c-4cd1-962e-1df9d61ca784', N'Чистый код: правила наименования', N'<p><span lang="RU">"<strong>Как вы шхуну назовете, так она и поплывет</strong>" &ndash; крылатая фраза из мультика не лишена смысла ни разу.</span> Правильные, хорошо подобранные имена значительно повышают читабельность и понимание кода. К сожалению, далеко <strong>не все разработчики понимают важность имен</strong>. До недавнего времени к ним относился и я. Ребята, работающие (или работавшие) со мной знают, что мой код можно узнать по наличию слов <strong>Foo </strong>или <strong>Boo</strong> <span lang="RU">в названиях методов, классов, переменных, параметров и т.д. </span><span lang="RU">:)</span></p>
<!--more-->
<p><span lang="RU">А потом дядя Боб сказал мне &laquo;<strong>имена рулят</strong>&raquo;, и я поверил. Правильное имя позволяет не заглядывать внутрь метода, чтобы понять, что он делает. Пример есть в <a href="Post?postID=74a232f4-b149-4f41-b268-0f7d4760aa3f" target="_blank">посте про правило бойскаута</a></span><span lang="RU">. Можно ли по названию понять, чем </span><strong>GetTask</strong><span lang="RU"><strong>() </strong>отличается от </span><strong>GetNextTask</strong><span lang="RU"><strong>()</strong>? Название должно передавать суть метода и не давать ложных надежд вызывающей стороне.</span></p>
<p><span lang="RU">Переменные и параметры тоже должны иметь осмысленные имена. Исключение можно сделать для переменных, которые играют роль счетчиков в циклах. Там классические </span><strong>i</strong><span lang="RU"> и </span><strong>j</strong>&nbsp;(а иногда и <strong>k</strong>)&nbsp;<span lang="RU">заслуженно остаются. </span></p>
<p><span lang="RU">Кроме собственно имен есть еще и соглашения наименования. Тут в принципе нужно следовать стандартам для конкретного языка. Для </span>C<span lang="RU"># можно начать <a href="http://j.mp/gDbGOU" target="_blank">отсюда</a>. Но есть один отдельный момент, который нередко <strong>приводит к религиозным войнам</strong> &ndash; это <strong>наименование приватных полей</strong>.</span></p>
<p><span lang="RU">Меня этот вопрос будоражит еще со времен моего знакомства с .</span>Net Framework<span lang="RU">. По некоторым причинам, приватные поля часто называли с использованием знака подчеркивания. Мне это не нравилось, потому что отдавала некоторой <strong>цепепешностью</strong>, а я пришел в .</span>Net<span lang="RU"> из </span>Delphi <span lang="RU">и С++ не <span style="text-decoration: line-through;">любил</span> понимал. Кроме того, в C# все идентификаторы должны использовать только буквоцифры, и только полям понадобились подчеркивания. </span></p>
<p><span lang="RU">Причины вроде были понятны &ndash; отличать поля класса от переменных, параметров и свойств. Однако:</span></p>
<ul>
<li><span lang="RU">Современные </span>IDE <span lang="RU">подсвечивают их по-разному. Студия не умеет (вроде бы) этого делать, зато </span>Resharper <span lang="RU">умеет.</span></li>
<li>Если писать методы правильно, то они будут получаться небольшими и в них можно запросто отличить переменную от поля.</li>
<li><span lang="RU">Конфликты имен между параметрами можно решить с помощью </span><strong>this</strong><span lang="RU">, который выглядит лучше подчеркивания.</span></li>
<li><span lang="RU">Если так оно надо, почему нет единого стиля? Вместо этого куча вариантов: <strong>_field</strong>, <strong>_Field</strong>, <strong>m_Field</strong> и даже <strong>field_</strong>. Налицо разброс мнений.</span></li>
</ul>
<p><span lang="RU">Несмотря на мои доводы, приверженцы подчеркивания так просто не сдавались. Они приводили в пример разработчиков из </span>Microsoft<span lang="RU">, которые подчеркивания активно используют. Даже в <strong>MSDN Magazine</strong> встречаются подчеркивания (во всех вышеприведенных формах, кроме, пожалуй, последней).</span></p>
<p><span lang="RU">Есть отличная книга -- <strong><a href="http://j.mp/hh5QBJ" target="_blank">Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries</a></strong>, в которой умные парни рассказывают, как надо называть публичные члены, но ничего не было сказано про приватные. Дело в том, что рекомендации в книге ориентированы на библиотеки, предназначенные для повторного использования. То есть, регулируют то, как код должен выглядеть со стороны. Тем не менее, книга крайне полезная и интересная, потому что кроме собственно рекомендаций содержит <strong>комментарии разных видных людей вроде Джефри Рихтера</strong>. Я читал только первое издание, второе должно быть еще лучше. Са</span><span lang="RU">ми правила (без комментариев) доступны на&nbsp;</span><a href="http://j.mp/fIx3S9" target="_blank">MSDN</a><span lang="RU">.</span></p>
<p><span lang="RU">Оказалось, что вопрос приватных полей не только меня, и Бред Абрамс, один из авторов книги, выложил в своем блоге <a href="http://j.mp/iaSTWq" target="_blank">внутренние рекомендации Microsoft по организации кода для .</a></span><a href="http://j.mp/iaSTWq" target="_blank">Net</a><span lang="RU">. И &ndash; да! Там есть <strong>рекомендации не использовать подчеркивание</strong>. Раздел 2.6 говорит следующее:</span></p>
<p><strong><em>Do not </em></strong><em>use</em><em> a prefix for member variables<span lang="RU"> (_, </span>m<span lang="RU">_, </span>s<span lang="RU">_, </span>etc<span lang="RU">.). </span>If you want to distinguish between local and member variables you should use &ldquo;this.&rdquo; in C# and &ldquo;Me.&rdquo; in VB.NET.</em><span lang="RU">&nbsp;</span></p>
<p><span lang="RU">До недавнего времени это было моим самым главным аргументом. <strong>Но сегодня я нашел еще один -- более весомый</strong>. Это ни много ни мало --&nbsp;</span><a href="http://j.mp/gDbGOU" target="_blank">MSDN</a>,&nbsp;<span lang="RU">где сказано буквально следующее:</span></p>
<p><em><strong>Do not</strong> use <span style="text-decoration: underline;">underscores</span>, hyphens, or any other nonalphanumeric characters.</em></p>
<p><span lang="RU">А что же дядя Боб говорит про это все дело? Хоть он и парень старой закалки, но тоже против подчеркиваний. Также он против венгерской нотации. Мотивирует он это тем, что все эти префиксы и суффиксы &ndash; бесполезный мусор, который мозг автоматически отбрасывает при анализе кода. Когда разработчик смотрит на идентификатор </span><strong>m<span lang="RU">_</span>OrderItem</strong><span lang="RU">, в голове у него оно думается как </span><strong>orderItem</strong><span lang="RU">. Зачем добавлять мозгу лишней работы?</span></p>
<p><span lang="RU">Так что теперь моя уверенность в названиях для полей подтверждена <strong>железобетонными пруфлинками</strong>.</span></p>
<p class="MsoNormal"><span lang="RU">PS. Пропали ли </span>Foo <span lang="RU">и </span>Boo<span lang="RU">, упомянутые вначале, после прочтения книжки про чистый код? Пока не пропали. Когда мне нужно быстро склепать какой-то прототип, я не всегда трачу время на выдумывание имен. Также в случаях мыслительного запора проще написать </span>Foo<span lang="RU">, а потом, когда будет вдохновение, переименовать. Беда в том, что вдохновение не всегда приходит в момент, когда </span>Foo <span lang="RU">в досягаемости </span><span lang="RU">:)</span><span lang="RU">. Но я однозначно стал <strong>больше внимания и времени уделять выбору правильных имен</strong>. Чего и вам советую.</span></p>
<p class="MsoNormal"><span lang="RU">PPS. Наверное стоит признаться, что подчеркивание все-таки я использую. Недавно я подсмотрел у <a href="http://j.mp/hlQpMv" target="_blank">Володи Матвеева</a> занятный способ задавания параметров лямбды, в случаях, когда этот параметр лишний:</span></p>
<pre class="brush:csharp">markitElementBuilder.AssertWasCalled(_ =&gt; _.AddQfnElement(rootElement, "money"));
</pre>
<p>В этом случае подчеркивание заменяет сам <strong>markitElementBuilder</strong>. И код читается, как "убедиться, что вызвался метод <strong>markitElementBuilder.AddQfnElement()</strong> с нужными параметрами.</p>', N'Чистый код: правила наименования', N'2011-03-16 16:44:11', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'e4500191-471b-422c-aed1-26b019996038', N'Coding dojo как путь к просветлению', N'<p>Пару дней назад были вместе с Сашей Белецким на coding-dojo, где заняли третье место.&nbsp;</p>', N'Coding dojo как путь к просветлению', N'2012-01-27 01:00:18', 1)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'fc1c1799-dc75-49cc-9e01-292763a014fa', N'Пример из жизни про чистый код', N'<p>Недавно мы закончили (почти) <a href="http://bit.ly/WDcPfo" target="_blank">ремонт в квартире</a> и в процессе я обнаружил немало аналогий между ремонтом и программированием. Вот, например, зачем нужен чистый код.&nbsp;</p>
<p>Тема наверное уже достаточно избитая, но тем не менее периодически встречаются холивары по этому поводу. Особо упоротые менеджеры (а иногда и разработчики) считают чистый код абсолютно бесполезным девелоперским фетишем. Мол, бизнесу пофиг, чо там за код -- главное, чтобы он работал. Некоторые в конце после паузы добавляют слово "без ошибок" или "правильно". [|more|]</p>
<p><img style="margin: 2px;" src="http://dl.dropbox.com/u/3998001/VnTvTFhvYO8.jpg" alt="production" width="600" height="209" /></p>
<p>А вот вам аналогия с ремонтом. Нужно вам, например, выровнять стены. Рабочие предлагают два варианта: "по-нормальному, но дороже и дольше" и "по-быстрому". Конечный визуальный результат на момент сдачи будет одинаковым. &nbsp;Вам все равно, как это будет сделано, главное -- чтобы быстро. И выбирается второй вариант. Проходит время, стены выровнены, деньги уплочены, все ок.</p>
<p>Через некоторое время появляются трещины. Их заделывают (может даже бесплатно -- гарантия все же есть). Но вместо того, чтобы наслаждаться отремонтированной квартирой вы паритесь с рабочими. Отпрашиваетесь с работы, везде грязь -- ремонт всё идет (хоть и закончен был месяц назад).</p>
<p>И, наконец, вы решаете поклеить там обои, зовете теж же рабочих, а они говорят, что для этого нужно сбивать всю штукатурку, потому что она потрескалась, и делать все заново. Ну да, вы ж не говорили, что нужно будет клеить обои и надо было быстро. Они не виноваты.&nbsp;</p>
<p>Вот так вот.</p>', N'Пример из жизни про чистый код', N'2013-01-31 03:40:53', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'504c7847-849b-4e8d-9a64-350bea6f4182', N'Ciklum .Net Saturday', N'<p><img style="float: left;" src="http://www.ciklum.net/templates/ciklum/images/logo.jpg" alt="" width="180" height="101" />Сегодня прошел .Net субботник организованный компанией Ciklum. Забегая вперед, скажу, что все прошло просто суперски. Даже происки хулиганов не смогли испортить впечатление, но об этом ниже.</p>
<p>Начиналось все здорово. От метро забрали автобусы. Офис Ciklum все такой же классный и skypoint на том же 20-м этаже с тем же красивым видом. В офисе печеньки, кофе и вода. Keynote рассказывал англоязычный бигбосс из Betsson, клиента Ciklum. Рассказывал достаточно интересно, но я некоторую часть пропустил, потому что допиливал свои слайды. С keynote начался легкий сдвиг по времени доклада, который в итоге привел к тому, что мой доклад был смещен на полтора часа. Но&nbsp;мне это не показалось большим минусом, потому что дополнительное время было в принципе потрачено не зря -- люди больше интересного рассказали и больше было обсуждений и ответов на вопросы.&nbsp;</p>
<!--more-->
<p>Какие доклады мне понравились:&nbsp;</p>
<p>1. Доклад <a href="http://twitter.com/alexbeletsky" target="_blank">@alexbeletsky</a> про Continious Integration на примере Jenkins и инструментария Чака Норриса. Доклад без слайдов, зато с живой демонстрацией. Получилось очень здорово и интересно. Не помешало даже таинственное исчезновение интернета. Кстате, на <a href="http://j.mp/kI6WO5" target="_blank">ближайшей встрече Kyiv Alt.Net</a> Саша тоже будет это все показывать (а может и еще что-то).</p>
<p>2. Доклад <a href="http://twitter.com/msugvnua" target="_blank">@msugvnua</a> про публикацию приложений для Windows Phone 7 в MarketPlace. Честно признаться, идти на этот доклад я не планировал, но изза смены расписания попал на него. И даже слегка неожиданно для себя остался очень доволен. Докладчик очень интересно рассказал про, оказывается, интересные вещи. Я теперь захотел WP7 еще больше :).</p>
<p>3. Доклад <a href="http://twitter.com/antonvidishchev" target="_blank">@antonvidishchev</a>&nbsp;про TDD в Asp.Net MVC 3. И опять интересно рассказано про интересные вещи. Команда недавно начала применять TDD, но движется явно в правильном направлении.</p>
<p>Да, и еще ж был мой доклад :) Я конечно же позабывал половину того, что хотел рассказать. Пару раз тупил и повторялся. На середине доклада (и до начала следующего, блин) вырубили свет и я остался без слайдов. Но вроде как мысль свою до масс донести удалось и массы приняли меня благосклонно. За что им огромное спасибо.</p>
<p>На ланче была пицца (много пиццы) и пиво (а я не пил, блин, думал вечером на машине поездить). Организация была проведена просто отлично -- спасибо организаторам и в особенности Инне.</p>
<p>Результат тусовки -- отлично проведенное время, новые знакомства, новые идеи для блога и следующих докладов.</p>
<p>&nbsp;</p>', N'Ciklum .Net Saturday', N'2011-05-14 14:05:11', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'149325ed-0efc-4d05-8676-36890543cb10', N'Зачем нужны юнит тесты, часть 1', N'<p>Недавно прочитал один интересный <a title="пост" href="http://www.lispcast.com/uncategorized/6-reasons-to-develop-your-tests-first/" target="_blank">пост</a> на тему TDD. С прикольными картинками. Нашел его я, кстати, во время поиска картинок для <strong>TDD4.Net</strong>&nbsp;:). На запрос "TDD" гугл вывалил кучу разных иллюстраций, среди которых я заметил вот эту:</p>
<p style="text-align: center;"><img src="https://lh3.googleusercontent.com/_XGlASEpaWdk/TXvmnubN4jI/AAAAAAAAE68/u8FOkcmUkMk/images.jpg" alt="" width="330" height="414" /></p>
<address style="text-align: center;">&nbsp;"о, я доперла! ты думаешь как будет использоваться модуль, <br />потому что юнит тесту нужно этот модуль использовать"</address>
<p>Она мне как-то сразу понравилась, и я полез на сайт. Там оказалось еще больше картинок и весьма занятная статья. Автор очень доходчиво описал, зачем нужны юнит тесты. Мое понимание этого вопроса совпадает с его пониманием практически на 100%. Я попробую &nbsp;пересказать в ОЧЕНЬ вольном стиле с добавлением отсебятины. Если вас интересует оригинал, он <a title="все еще тут" href="http://www.lispcast.com/uncategorized/6-reasons-to-develop-your-tests-first/" target="_blank">все еще тут</a>&nbsp;(<strong>UPDATE: </strong>когда я созрел до второй части перевода, оказалось, что оригинал пропал. Пока еще его можно найти в <a href="http://webcache.googleusercontent.com/search?q=cache:http://www.lispcast.com/uncategorized/6-reasons-to-develop-your-tests-first/" target="_blank">кеше гугла</a>.). Везде ниже, "я" означает меня, а не автора статьи.</p>
<!--more-->
<p>Я когда-то писал одно очень классное приложение (на дельфях -- было такое время). В нем имелась хитрая структура классов, наследование и может быть даже патерны -- в те времена я еще не знал, что они бывают :). Мне все очень нравилось, как оно все получается, но был один момент. Я писал ее несколько дней до того момента, как первый раз запустил. Т.е. я честно все кодил, и только спустя пару дней нажал F9 (кто помнит -- в дельфях все было наоборот, F9 запускал проект, а F5 ставил точку прерывания). Надо заметить, что я сильно удивился, когда все заработало, как надо с первого раза. Конечно, я верил в свои силы, и оно по идее должно было заработать, но все же удивление было весьма большим. Сравнить это можно со строительством моста, когда на глазок прикидывают размеры деталей, скручивают все вместе, не делают никаких испытаний, а сразу пускают по нему автомобиль. Проехал? Не упал? Вау. &nbsp;</p>
<p>К чему я это веду? К тому, что с TDD у меня постоянно есть возможность проверить работоспособность того, что я пишу. Я могу запускать свои тесты так часто, как нужно, и убеждаться, что мой код работает, как положено. И когда придет время запустить готовое приложение, у меня уже есть уверенность, что работает правильно.&nbsp;</p>
<p>Другая проблема, которая меня часто преследовала раньше, это незнание того, что должен делать мой код. Какие должны быть методы у класса? Что нужно передавать в эти методы? Нужно ли инициализировать свойства из конструктора? Куча вопросов без ответа. В итоге получаются куски кода, которые не используются. Просто они были написаны на всякий случай, но в реальной жизни сценария, где они нужны -- нет. Что получается? Получается то, что некоторые усилия пропали напрасно. Но с TDD все не так. Если сначала написать тест, а потом простейший код, чтобы этот тест прошел, то останется только этот код. И у меня получается сразу два бонуса: простой код и подтверждение, что этот код правильный. В системе остается только тот код, который нужен. Да, и еще экономится время, потенциально потерянное на реализацию ненужного кода.</p>
<p>Также у меня были частые приступы преждевременной оптимизации. Делаем метод? Отлично. Но этот метод такой общий, может сделать родительский класс и реализовать его там? Супер. Может бы еще ивент сделать, чтобы уведомить кого-то об изменении? Запросто...&nbsp;Тааак.. После нескольких улучшений оказалось, что, кроме этого одного класса больше наследников не нужно. Да и ивент этот никому не интересен. Зато есть красота (сама в себе). С TDD (если его правильно применять) такие случаи достаточно редки. Все усложнения добавляются только, когда нужно. А нужно это становится, когда добавляется тест для соответствующего сценария.</p>
<p>Еще один момент -- сложность кода. Не знаю, как у вас, но у меня как-то сложный код писать проще, чем простой. Наверное потому, что его не нужно упрощать :). Другими словами, <em>зачем просто, если можно сложно.</em>&nbsp;Но после того, как все работает, хочется все же привести код в порядок. До знакомства с TDD это часто было тупо страшно. А вдруг при изменениях все сломается? Поэтому код очень аккуратно и несильно упрощался и в итоге все же не дотягивал до идеала. Кроме минусов в эстетику сложный код имеет еще одну неприятную особенность -- в нем больше шансов появиться ошибкам. А вот исправлять ошибку в сложном коде почему-то сложнее, чем в простом. С TDD сложный код писать сложнее простого. Почему? Во-первых, феньшуй требует, чтобы код писался простой. Этот момент требует определенной самодисциплины, которая, в принципе, может привести к аналогчному результату и без TDD. Но есть и второй момент: сложный код сложно (а иногда и невозможно) тестировать. Кстати, поэтому и нужно писать тесты до кода -- тестировать существующий код намного сложнее, чем писать новый код по тестам. Это, можно сказать, классическая ошибка начинающих (а часто и несостоявшихся) тестдривен девелоперов.</p>
<p>И если даже сложный код написан (скорее даже не сложный, а запутанный), тест прошел, то можно его порефакторить, не боясь что-то сломать. Потому что есть тесты, которые можно запускать в любое время.</p>
<p>На этом я, пожалуй, прервусь -- по себе знаю, что много текста сложно читать. Продолжим в следущих постах, а пока -- веселого вам кодирования!</p>', N'test', N'2011-03-01 02:41:24', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'ffdd37b9-91ab-48ba-b090-3a2901daece4', N'Неприменяемый патч', N'<p>Пробовал я как-то сделать патч и сходу уперся в стену.</p>
<p>Вот примерный список шагов для воспроизведения (делал в powershell):</p>
<p>[[code]</p>
<p>mkdir hg-test</p>
<p>cd hg-test</p>
<p>hg init</p>
<p>notepad a.txt&nbsp;</p>
<p>hg add .</p>
<p>hg commit -m ''first commit''</p>
<p>notepad a.txt&nbsp;</p>
<p>hg commit -m ''second commit''</p>
<p>hg export tip &gt; patch.patch&nbsp;</p>
<p>hg strip tip&nbsp;</p>
<p>hg import patch.patch</p>
<p>&nbsp;</p>
<p>applying .\patch.patch</p>
<p>abort: .\patch.patch: no diffs found</p>
<p>&nbsp;</p>
<p>[code]]</p>
<p>тут мы создаем репозиторий, добавляем в него файлик, комитим (6), потом меняем и снова комитим (8). После этого делаем патч (9), удаляем последний коммит (10) и пробуем применить свежесозданный патч (11). Строки 13 и 14 переводятся, как "пошел нафиг" по Меркуриаловски. [|more|]</p>
<p>Это малость странно. Если открыть патч файл в редакторе, то он выглядит весьма многообещающе, и нет никаких разумных оснований не принимать его. Вот если сделать такой же патч через <a href="http://tortoisehg.bitbucket.org/" target="_blank">TortoiseHG</a>, то он применяется без проблем.</p>
<p>На этом месте мышкодвиги должны радостно потирать руки и думать "ага! так вам и надо, консолефаги". Но на самом деле все не так очевидно. В логе&nbsp;<a href="http://tortoisehg.bitbucket.org/" target="_blank">TortoiseHG</a>&nbsp;показывает, что при создании патча используется следующая команда:</p>
<p>[[code]</p>
<p>&nbsp;hg export --verbose --output patch.patch --rev XXX</p>
<p>[code]]</p>
<p>Разница в том, что вместо перенаправления вывода в файл используется опция --output, которая явно задает имя файла с патчем. При сравнении результатов обоих команд видно, что содержимое файлов одинаковое, но размер первого тупо в два раза больше, чем второго. А это означает, что первый файл unicode, в то время, как второй &mdash; ANSI.</p>
<p>И тут самое время вспомнить, что Mercurial написан на Python, а у последнего не очень складывается с юникодом. А может проблема в чем-то другом, но это скорее всего не так важно.</p>
<p>Важно, то, что при непонятках с &nbsp;Mercurial есть еще один troubleshooting step: "проверьте кодировку файлов". Его делать лучше даже перед "открыть капот". Ну а для создания патчей лучше все-таки использовать --output.&nbsp;</p>', N'HG vs Unicode', N'2013-03-13 04:19:05', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'89632c9b-0586-4d57-b80b-3b986c8721af', N'DRY принцип', N'<p><strong>D</strong>on''t <strong>R</strong>epeat <strong>Y</strong>ourself -- вот что значит DRY. Нужно стараться избегать дублирования кода</p>
<p>&nbsp;</p>
<pre class="brush:csharp">public void MergeData(IEnumerable tradeInfoWrappers)
{
    foreach (var tradeInfoWrapper in tradeInfoWrappers)
    {
        int index = TradeInfos.IndexOf(tradeInfoWrapper);
        if (index &lt; 0)
            TradeInfos.Add(tradeInfoWrapper);
        else
            TradeInfos[index] = tradeInfoWrapper;
    }
    TradeInfos.ResetBindings();
}

public void MergeData(IEnumerable tradeMessageWrappers)
{
    foreach (var tradeMessageWrapper in tradeMessageWrappers)
    {
        int index = TradeMessages.IndexOf(tradeMessageWrapper);
        if (index &lt; 0)
            TradeMessages.Add(tradeMessageWrapper);
        else
            TradeMessages[index] = tradeMessageWrapper;
    }
    TradeMessages.ResetBindings();
}
</pre>
<p>Получилось вот такое:</p>
<pre class="brush:csharp">public void MergeTradeInfos(IEnumerable&lt;TradeInfoWrapper&gt; source)
{
    MergeData(source, TradeInfos);
}

public void MergeTradeMessages(IEnumerable&lt;TradeMessageWrapper&gt; source)
{
    MergeData(source, TradeMessages);
}

private void MergeData&lt;T&gt;(IEnumerable&lt;T&gt; source, BindingList&lt;T&gt; target)
{
    foreach (T tradeInfoWrapper in source)
    {
        int index = target.IndexOf(tradeInfoWrapper);
        if (index &lt; 0)
        {
            target.Add(tradeInfoWrapper);
        }
        else
        {
            target[index] = tradeInfoWrapper;
        }
    }
    target.ResetBindings();
}
</pre>', N'DRY принцип', N'2011-03-15 04:07:11', 1)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'4b2e8fd6-854c-44a9-b3b0-3f5491c6d6d7', N'Agile Base Camp: Днепропетровск, 2 июля', N'<p><img style="float: left;" src="data:image/gif;base64,R0lGODlhFQG6APcAANt+L958MO1uLPJmJ/JnKPJqLOV1LupxLeJ5L/JuMetzMOx8PvNxNvN1O/N4P/N7Q/R+Sb+UMLeeNbybNp+1PJe8PZm7Pa6lNqOuN6etOquqObOiNrKkOKOyO82KMtSGMtmBMdGJNdyGOsOUNMiQNMWXOozGP4rIP5HCPpa/QaW1QqG/S92OR8uaROyITfSBTfSFU/WIVvWNXcmpVsG0XvWPYPWSZPaVavaZbvaddPicdPefePeifI7HQo/IRJDIRpPKS5fLUZnMVJ3OW5/QX6fJXp/QYKDPYLjHbbLLbKLRY6bTaqjUbqvWc6/Xea/YerbReLHYfcDHdcPHeM7DfsDMffemgfmmgveohPiqhvavjPiti/iwj/izlPm3mfm6nfm+ornXgrXahLfciLrdi77fkr/glczHgM7MisDflcvZmNHTlubBk8DglsTinN3YqfnApvrFrODar/rHsPrJs/vOuu/Rse7WuPvRvsfjocnkpc3mq8/or8/nsNDnsNLptNbrutjsvvvVxPzYx/zay/LT1vzf0fPW2vTa3Nvtw9/vyeLow+Hvy/DjyuHwzfzh1fTo1v3l2/3o3+Xy0+fz2Or13PPd4fXj5P3s4/Xl6fbq6/3v6e724vD35fD45/7y7PP57Pbs8ffx9f728vf78fr79fn2+f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAAAAAALAAAAAAVAboAAAj+AE8JHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFOqXMmypcuXMGPKnEnT4KWaOHPqJAmqkiNSEm/uHEq0KERQicYsASKkktGnUKNKJOVHSQ8TWMVI3cq166lSiZpcxWrihyOvaNPmBAVILNaxJsSUUku37spSlfIsMdFjiA+yZc/aHUz4I14/UYL0ACImkJu/ZMcUnkyZYilQjvI0UQykiR6noJQAHuKUYqHKqLmWIlUpUZ4oQ370COKZ0lyBbQD32GNRVOrfQ0l5mvTHjRglQHr0+KFkzJ9KQAlOEgK4SXTg2LterqSIT5soS4T+yDbhQwiTMn8oXS9IKgpgIZOyy3/aM5EeMk2Q+7jqI4iSJ2b44QgntynUB2R88TbfgjXV14YTQySnXBBDNCGGG38wAl2BDVFCHVlirJcaKBwy2BJrfiiV3A9CLHHhH45UQqJFoDgBmBKcYEdKG0Y8UZqJKnWiSBlL/PBDhehNwomIGLkBFxCKaGRKUXuMJReQJyE1RmxDOKHHgCVyBAgQfJGnx0aHEMUJEWQBER+WIpXiSBlcjhFIJyVRMgRZPYwRZkVTDqUHYCaQASdIoPzRhJFRAJKjSaA0UR0o2Xki2ns/HpoRJ3pYBUQZk/wZUiljwGVEpr9VSagJeWiakSf+buz5AxmUrKTHVcoJEWV2oa1qghKUukoRKHuI1oMTgqkEyA9k/eDHfHzApdsfwk4U1lVC8MGkSY7s+ZYb84GyF5/ViVrtQZyUwWwPUaCKUiWXYjXGthlpotMf0paJ1Q+JnNtQIpcCkQe9JUX6lglNBPsRImsx4StgWvmbECl5kGmCEIC4RMoYN7r7G77krhpErRIbBIoYYymRLEtOkiXEyjpK+vDBbZRcUCUyI+wxSn4wu2/GCwKCYMijPWrzJEqccIIJTBjNUiIW83XmgqTkPDOuCpZMSRFLM+30SpV4mxXBqCUytL6+LkE2lnqSpcTOWVpNGoOlPEGotPn6EIj+xPCSNQTJLrX81tQlpTlTIj7nSzRWUZhrosFYQQkTJVFfDLdH9spU99UPu1ktKWKQ5UPWLnEMmBOOV+ZI4jOjjZWhwuYBV4gwVfIhWVHQHTrerft9uXyB+Pzr1xpxAvNCgeQbxK7yrd774li1eign8fL7kSJRvOkQH74OcTxqpYS+KlyK36iwieEDRkbqU+kRRBkRJVL+EP1iNwmZ5HN+N9BALuvy7xLxxBh8MATiLaRXvgIC/0YVE9NBz1f5sg6QEMgXcHEEZ3zhw0QUcTtyFXAkp3nJ/VpXvpD9gHkLEtyvPMERRXhrCeeDyCTcsr+RBKp0JNRN6yK2IE50kHD+GQHEh3ywQImAwmG6MUtqPKTDgz0PMEEA4GTaAJcPasQP+EPY2hjihlUxYYtpKcMD79ZEJ9ZsPpzw1lXOmJGeNat+FskNoSxYGUoEgYxPfNgQWAi+ggyqWYCzSCn4IDwTNO4i4nKiCehIGTE+bwhkGJci0dYDDVYmElvwgiHmQgokYqUJ7GPIIAtpvYsoAkFj8V5lwgbBG9WKE5KcJFnUpppBzKFAo5DEIOrAS0NgQhA4eEAWNuG8wWWEkNJCHUYcuSohlEERMdxI5lbSRc75gFoCCcTZfOUDOEIFE1zgASG+gskYPKABCUgABMBgAx7Q4QsPuEEVnhRIivgPLnr+ywgZWnckMQAimhdhGNjENjMJCqRXipPWIaFCCBx8YRQDIQQECFCAiiZgDnVgAAEawIM5yCAEuDIBLS2SiDsSyqAXoUQTkkPCJkixKLI7mOJ+UMRq9s5zTxGEDepAkEfUoKJA7QImYkDRjQ6iESKYQGQu4ogOvgWbGQHFJPhQhiY4FTCSSUsaZVkdEVGOXPnDCvyMMggZ8PQRmzhFHSAA1AIQwAaY2AJQE+CFUrCBAx+gAFYsSZG+KRKGhuFExXz1hFAKSn9ENEgpbPS8phQFEzb4wikEsYVRCOIBBEgAUBswiEE0wK0NAEMpMPECD3BgBOT5nkMgtyq+guRWq2L+Y1e2Or6uHgRkzwOiTrCAg1zGAA6YgEFbCcAA0fKgog+Aw1ziUAABcGACHQiCARtCqvLhaCSVMGmbtNcVVbUusQfxBJsgCBfA7mQQLxjEKazAAEHwgKJAdQAcTiEJzD6Ap1/RQUVBkIENGIGPEoGtr2QLEh8SaqxeQWAJmUYwZpIQqjnhQQ5OQQgGPOALDAAqASCAB4HAoQAQEEQpDHEK0gJVAhdIAhgNArWwmgAIL7XI6qo43YoI5STehd4PIGyQYpapfKDUySMgwNP3OqAG8C1ADAwxCojm4AGCGIUXvDBZzVb0AxmAgmEJ4ldfXWkkDt6xR25csHjNzLwIqdr+w6R1Qp2A4QWYwARbC2DlAthAEpgQKiZuIAhD4KABPO1CWw+AgTBMxT1lLKVImBiZLd9rwU9lCPfwSCge1iQHN1BrnSt6A0wMIgYTHsQWtvCAAUAgrTtIcgEkYGmHCNhXXxwJKBCNFSYAuCuJBCu5mADQgtC2d46tySdgoIVTdGEAbY2BILrwgALMFw4ZrugOTrGJGLS1AB9AsEMUkUXX9UC3HimFGapYT67gdmbXdMjuetcDAr8EL2+48CmO21YYvIAABHDAI9bb1jiUuNltDYAajhLLZtY4I6VoA4JeppYj5hDNC1EE62ZGhFuzBBSKcAMTgtABBYDhFDe4tob+Y/CJUtgAvg0Y5yAyXGcDrAEiVGxdVkFCCjMgKAje9IrQWomVdDuEFAVfXCVZcplAkMEIkOlBBjxeihuouq1XOMUorO3WF3ziFHSINlAPgIaHSJzS5Mk5R0BRKr+JnStqdh2heA2RP5YRMLFGCSkUQQa/EOoEKlCAZEMu8op+vL4VfStEvyByAZxhtZ58GMQ5wgm7kcUIquVICEeyc7D3gMcMye7bAdNNk+DFDUVK4Bjk8AAelCIHfaezIE5hCAcEngcCicOmBSCAKYQypoocSw8YecHEu7QkvhlJKawmS7ZHRHzPW2hIkCKGykGRDKGaegykTNFNF0Dfp1h5RQf+sIXYW98ASNiiHW9a7oxUwpM+EEOvuYI4dhfRIYDgXQK52xFQ8IEJZxtLEGhFkBw4QBKCYH0VBWcUFm0DwAUCgQda51YAUATrJxClQGszo0wdAUttogeORhSb0ztxFxEUxDnathGeoAdGUEI/IAahUhBg4GybIFwiFwNp9QiuV1Hdl30LWAAeAGPIsy5cZQKupRGgsxy0gUJ0YTb6wjs+NxFy9HZjIQQHZ0TFUkI9wASJ8CcyWAOfIGjXRgDTV2JzVgA6MBeCcIMc0HkJ4XA8ZzkegRSKQAmVkIFFkT4c+IAL8VX6820aUQqAsAQLNgR6sH6loAMJUAfB9YIQ9Qn+RFVRMJBWc7BpCFABi6QQqiJ/uBNuoMAJlMAIgfAHf5AIjkAJBJIWPlZGPfB+EBGBm2c+GDEJUbBNzSIGAFQHCYCFGXVtMHB1pZCIdCZaV6BqSmUCFGgyZrZmz5IRpEAJgNAG+SEeuKIcPnAkTEAGgBBjEhF8hiGBxbdiCXFu32WKD0EKenBVo/EHoTQKOFAAXiBlm/YA+3YKVFdRDqADnwVUAQCJFzNdbvdAUXQRnGB0S6EcedQDQiAGiqCNDzF5HjGK3OSNEOEJBPVAQTYRKrVg7EKNg+AADFAHo9AFC+hvpJVkRQVUCNABfIJ5pwAK4zVGTlARngAIWwJpaVj+FrD4FKTyPCN1EQ62YEoUEaUQCA9JKD/gBgYpEIJ2X6UwBy8AVDGACXQggG6lZFRgASR5FYVlEPnYOj9IXZNAJzAJk+/BkDQxCdpFaUNQBm6wB504CTJCCo6mkDPTaqKkB4WUL0MAlgoxCqj3ALckCVkAcDAAcFvYAFeACXfwARKwXQXxgbX1YtRICoDwBIUEdqm4KkBQjEPhQCHVO0YiBENQIWLQBnoQCEoyIweRdpKphqtFBpm5KipjEZDgAsSlBZhwCo/QBTLgAFaGbAnQADCABYQwCnFQAzMgLX5CENzoYghjWPbHBF7pbUxIKJKzEyNEQmIwBmLABEoQBED+8APb9IxCoAROQAZ6AAiUQJqnMGkxGYkNQXaQ9jYXQUUlkGEvAAdplUt4AAZd0AVfQAeE8AmWpQM1IAjt9xY4dQqmCWngVppVQYlrlkersng0sU+9kzBfcRk9oQiAoAdlAB4Rojg+AARDIAafcQq/tphY8V+iVHYz454W4T9BYAfyWAAvsAWCsAkckktggAMxwAWzuViEUpynwAiywaD7EnkQGAjMyW5jlC9MWpI6wWhOhE92aaDDAQh5cBwsRShBYAaVwDG6dzWWiRClgHtq9yvlBxFNxRcwVgqEsAUy8AAO8AA1oANZgAU6EAML4AJdIAkEwW2AgVMS+jxG8ID+rLhNzflEJaR8FZEJHpGTsDaUBloJRleCa6cHrkg0HXgQfrqYy5NS1cM8oxAJggAHXqAFLRABEcABGKBlBZFwCnUZBAWQvjJzJtMG4uiguBoyQ0CHDWEJHWE7vQNeFQEKflBwYzCMJnh2B4VE5bMb/BhLpSimRmACXWNFBBEpzfgDjBB/eWSSp6AIfPhER9IEY+AGfMCJf7AHxsEEQ8Cg5bOPNbGEBcWrDTGdjOMkyFlponKVIeMEkEoQnEB8PogQoLAnumeKlRBLTiCweASv1zpY30UEYsAHk2CeilUJf/AErlg+QHCmLQGs3ZgRlIAyfOIHmvdEHXsQBftdyur+EJQQdKyCEJ3wkLTKZTnTA3/hlTcpEJXgBLKaN0RABoFArwRRCn9AHV7phPE6mSg1EXJCBiaFK2VQCnLYpAd2ENGyebtaEYowjGQhPQZxsn5DL6BgBs73pYoTgi40MwM5tC16qWgDLDRRok0krFORCM0HnUKZTYdqrRAosNLStBDhB7caswdBOWxGf0XLCFEQmVcDYX4wlnyiBG7whhjRSWOUFTVBpmUquKvlB0wQmT2wBChkKZNJFroltg8TkUfRBo4LF7BjEF+nGwkKsOKoOCMDgXkwcWXRBH9AtNTleCQUpjBBt6titw7hCVEYMkDQBtGkQr0DcZVHiUoLEYr+kHgPE7sFIT+rkjsKwa1PpATRAb29mwj/qhCdkJJlagJ+WxGGgxF5sGZj4bkKAQp60K7H6wSKKxD2+mNNFK0DcZUJRbwKUQll4HyyxHsD8Qe+IrcJEajPoxWl8BiAcYKMAIdx6ZUhWBGhEFVeSyjIqxBUoQSuSAR+QDDD56DB6ECtMzcLUQm26qC1G7938wP7KxBAZ6LSgoGWKjpPUIUgMSYNGjkeayuruSr0exCJkKSUWQZPeArcaKI7KYek6Df/pFic8AdiILl8sWC162D6QsADYYdlChcnNKA90ARADBJYdLraCxMINTM01RCcMAaOyxdNYKQEMbOnyxc8hI3+36UEn6kHetAGY2BVcLuYPSDGp4B8V4sQUby+TmgGfKEEvxsS4Nht0OPCMrEHQ6xFC6GHP4kVQZAHwHsKYNygwYaZuZpDJJRPioW9ZMG6BQHBVosVS+AJVvWHIjEJPouoWekSufZ2c1y/6iJLeSwRbllCFmRTrdzHsrQc36OYfmNxOAyzD6N+emAbICEnY4DAvHMVXyYTfiCFn0Q2KvUwP+C8E2Ga6+s2lKJNDkqkeDQE6ksWDstlt2rD6CK5Cwa2CTEJ0CQRpcAJiHG2m7cET4wSuXbEPbc3CeEI94zP5FgRnuzKGUSio5yvJsqaiQCzRABQkzAevmKKA3qH3gr+gXqwnUMQBW0ACGoJCmxZtJdICYGgjB8iq490wxaBkBIBvq2UxKfQLbI0BEQoEQbW0WQRayzslTq9eUxQCZRwx8FIEIAQMnDhbqfArzoWeaRQBkzKIkrABE3wBFHwBE/ABEsQG4e6KqrkETc0FbLsRCE8EETtK7qSEY6smf1iRwn1zD03Biz0R/mi1VvdOt5bEKzMc9KVZiqaq049SW9NE9O7uvRCPerMyBIxu2UMMXMRc7espE3oB3ORwuPDyHtNKDv7FVbzpW4NUKSgmtA8z4u5BDx9InPNeRCtWI78qhoxzD1IxCfJWFfjlScIOG7JmAdRCuPSpO1LCqO8un/+4gZ3/M6fTJ0LrRLyTD6BSy/+A0EpPRE0fJpiJRABm7mb5wNMEAgcwsKAsdrmHd37Qn8g+0RweQrfrdS0/TBCsAfnK3wMq9sEi81lcdsSobpjZEWeQLKb56FL4AcxBKWP3GPC49rKQYTOE9pkscGs1JWAXcFiUMQvgTiQlsSRDEgdAciThCuEM0hiA2mz4U9MUpNkZIYGgZ6U9oPg65W8R+PP09a+8gNqjMETMU0PYdo6NBY23qqI5tpF2hFAbZPnwwluoATVXR5R8BmiQuK+EtII4d4DVhB9EJO694Ocjd5Kqkg/EAVrbBLv63XVPcuiktQzE8w0cikODcK7PRD+GOcGY2DWZy2eihCKCWGBZWQGYprbs1MQ4525l1e0AS5T5D0+zNEGKaiBKs55LStxDg2Q9/2euFqVYkq1huXjlKlaCO4rTVAQYtScivatFS6FJB2s5tEGA40oHcHZDi3UfnCaQWDgEtG/3A2UenzkPexiVW3VGi5S6wHmumHGKATmQOYIfHDIQyAEQhAEFDIESkCuepAIlisSjoCBG5E+st6yhx3BRC6mxP1Eb2wZe8CDrgPLBwHBMzOoBIF8Tg7CcOSQ4gpHpCAcUl0JnNAJVHsSiQBJHOEICHxSZIPjXPUDtVsRfjA0CdWE1IgQhNQ6STzMC1a9XyE+xg1H3Bv+k5n6EkJU1xWh73WL7ucZ3AQa3gEk376iwKdI3d+15wUx1SgbSKkd8XC0hJAG0C4xSj2QB+veY1mKR7SsxJeaL0CwB0lfy9ZNKA4cQGW3YONslddd4Pmu3z0HR5lO7DFRtvthBuwjUA3R1Mfr8iTaQZDmA2OQ3QzhY7rX6TK/3F3bWDyN5OzGCANBxVW8L/WjYLrmN3QfEpXgeFPbEIzaIVx8Uuzj9+lpyf8d+CRrzmTx7i98zHikexN/CmTMbt5k7+kNNP4uqJefEYnAJn2y+gZh+ke45ArxalXfc00ACKvPCbntKxt8hvebRxSaEM4czWMRpvIKk5bECQjNmlP+TyPH3CenDPn/WyZNnxD13eAgvAR8kPG+FgXNqi9txhCc8sF6dDmG/zxhytWtZEGp3uXTvxHXyx9t8PwGkcpA6fYEgf8w/xYD6SgAcUrgQIIFC5IC1CTID4ZAGDZU8qeUQYKkHJEZYkKjxh4cN378kYgiwUQ+Pn7seNIEH4J/PKJUaaKMQE4ZY54MUmnkTp49CYJqA0TjjzYTfR4lWEnIzY1OjCKtZJPpxpQqewiJomcSKKQES3GaFDasI0eTKHEdCcpRniU/YE7t8UNPz1Jippqo2nHuQEVuqZ6saqLJRFBKrFoF1FXxTlJ/DA/du/ionrcfhUySzCdvZbgbfyj+iZInUSVQTyVTLAWK0h8ySvzefWnChxvTFCcJBcy0hxuCnILA3qiE1KlSTf4yFVP79NFSiqJUHZJ4uc8xeG8OESm57t3Aga2r9AEEdJk9gShxKq0cNSlQnBz9aRPFtXfgG2er90qms0reA0k9/u64jYDQ6RQz9jPhB0Wm62oSMV4zYQlHpivEJ8pi6qEJzJbjZInc6quPoSCUaCIKMspwQw8VV9SjjTLEaIKJIRzaDMPYvuvIh6J8muS3v+jDsb+BquNuKOkC6Y6pJtBicKRSHBkDt456iIITBkXxCRQxHHpIiCcAGY7BSWwCEkTOikRTQNhSAkIP/Lwi0kwThBT+yI/uypRJIE+IqK+HMZhsciBQAokCQhOAcCPMQOmiRBFHGankzcUUWSq3JAXEU05NA2RKiD+QSsRQTFViKSkfbwqMiTD1C7BGjsQAdLpSKHFDiZSmNEGJBRfllUFFjEBw0zNvTDM2IJnYMEsPgevOj4JKiUK3k4CgRKDbPryJiV1PI6WSPZ4Agr4fyLCyV58+GSRdQdTFpFdKmGCWUxutyxRVHM1M6YcyYuWpDWF7+LSgQEyqr42Bykizox/EcERRuipRpI0mcLNKiUDMRUqQBgpIgOOOuzCXEzF6qHfYkou198welkhE0oISoRjBW7f1zzhsT1ICLU4MO9kzJtr+CGQS0kAh2pNKKElEjzGYECLTINrwBOOMGSigaqtBNrcUPSrltOQygeyZWKaCcINfnigZogfxmnjiiSicYEKJcJn6IVmC+pIXU2cFcoRrNXX7YQglBldiCCF+OPmHMaqVGkufBKHa6gIIwBpjSpxw9bCbhdVc7AHJYLwrT8ooY7T0BColtUoCaYOJmDUSokCDDvz7pCWYDMRvzvtMUAxGXKbwKMglr7pyjEnpQ6q8d0/Su0uZAkKMSYA3iJOjA9GjjLedaEIMMvQwjz1abd3ICEBLqYQ18rHF1YQ8CJpk2c3br32q6B2hXuqChifeeKk9cYPy6HWYsO3uJEMoAyX+8veTRJRhCTEjWWDEQ4ZEEM0PyxqMQEABCCecykxBmJCgAhi2AvZACW1QoP5Ow7+OTc5/+uOEG4xQwOV1rjJf+0ET+FCuxVQiD67BixCaMAY38AEQR+SD0ppABJP0gAh6AAUp9BAEMxAnEEzAk/NUooQ9yO4UnvBDE0TFuR4MQQyAMJsKp0a8ArxQhaDwgxNehzIDDogJbkihZGK4FB8soQ2J8MSbUuMIPYjRhIFozlbMAAQfPGSM9RnCGBShqFkVUggEoyMQllCGQPDwFKRQhCfV+LjIWY1yozRIKSaRB9fZK1Ngu0vgorAHSjhMMaVwTA+CIElb+kSVZhjCuLj+Qgk9ACIRjlJEIvzgBjEsoWnBGgoT9sCJp5TCE4lwQxScuRAf5CUuQBACaNzwh7MUZINnRGVXWHi1dFKEFJTYgxhmRMP6+CCcYsiDIkrDoE6Q4QdAAF2TOhHGHfGEFJwARBnmE6yriCEQUTtIJxoFiD8kcQ9/AIQizkMK5cyKLUe4WDuFV8qqnVKkaZkEINKgTcMxkoQ/EILgokAeRZCGV+/KEP549ZUFWqQNQASRD4gwBkDY9DSpmUQhw9WE0KHyEiNloxtPahD2VGISigjEH/aghzy04URkOFEeVOSHjArtdBhzxIz00MupCkoRYyCT5/KiSTG4ARDniaJR9Mr+Hk5QAhDZVALBggDFk1oCqv1ra2IXlVZdKbYnnOCDGIeFoR74IAhHWALbxPAEMWw2bsHE5KEWd5RRlHaBTeJf1TrGAzx44Qo6wMEOtgAHQ4xiMeiiQxd4gAMc6MAKXcBDJBZYikfMgQu7xUEOtvCFOjziE8wxRBy2kIPkzpYQtkUKJYjQBC+OZBSPqMNxYcuDLtBBEi7DxCDiIN7eYsELwRXkIqCwAk2dbEq6HMPvKDKKSAgCDNO1QQ1kUAMb5IALdBCuGlNrtQS0kAAPJkABGlADMLSrJ5igQw5eUMoBSC4BEMiBIFxWCjzg4AEtHECHrfaAGGzhud6tg4lNGWH+CdsgDtjlCSia0IRO9OQTcZDx5B6s2gfoQMQGwcQcNMxhFVcNAjwYxE7iAIEFfEACHeAIfUimKRRkgAaMGIkhumADCLTQlAVo8gNwMIcXY2zBbDRzSQsQgzrg5xNdeAEb9Vw1BnQBxwb5BBZIuucBOMAQI8EED+K8Zx1EoidtcAJEnVSHGiSAxqrlmCkdIAiCYIILed4zGx3QBfV8QXIKAEEJMmABFODlBH9zXkoqkIEJgOAACbhCmwcyChs0OdSmTIANOO3mQf860wRogBfUEwkIGBvOWfjzQD6hA+ItWnIOIARFIiEDZ1stBo/YCSPE0OOdjMILDbj0rxMwB4L+GMIB3fYwF5RjajYKwAAf8IAENNABClSg1SZAQav/jYIKUCADGxjBBxAgAMkRYAu1GYUM0t1tAjjgC6cl5Z6tXe2LU0QL8PZwHSjSBZAXwNAG2YQNSk4AGVjYIDXlySi2YGl4J4AOBeFByfks8oLQ29gHMAACEBCADxTd6AEAAAIOwPBQN2DYu66BzhkMBnO9ueETb3gDeF6QRzyg2gwA+55ZHm1JNFvjxKv4oQuyhT2DfeMFyALGiUNysdMYwhy7OUEIsTHJgZ0Bby/ADaLtc8CDHOvE24FpIu7rqqmY8VnfOk8Ocdi+Q6DAOajBuxlsyhhsgiJbiDAMeAAGPKT+K7xmjzMDsk0QOOgZArOtAxi6oAMYbOzkevc68R6QhdLTgQfF3rRk8FDsqjngBst1beYjHHmB8GAACYiBFUhv+i2YnXgNADdBfI7pvj/AAcRnIwO8//YHuPwUEQ8/DragBSsEWc8y8HxPQkF5q/EAE6OYyCgMkQXiJyAOFHkEHqgDXRuIR4ABPaM6gmA73Xs61EGXLbABtRuInNO9vBsIOBg0AsCC2+I2D+MYHTAExSMEK3gAdisIQhDA+DtBUNu8/9M+PSOABJCBLyAETJAEOoiBX4uBLxgETMCEOuhA4mGABlw84oEBlxsFSfCC3GOjBAyU4YmzFyoFMNiYOCP+AMFDDZ6IA2vbgoLIgomDAPMriE8wDUyAgImTwh2YuBcQw57YQjjTgmgbiFIQBAn0Cp4AAz3zny+wthe4sRNkQsmBADAgwEhgwRbyP4LgNTaCAQI8BTwIRKupATlcoWLjAtRYQN3LPsV4BM0zpRzwwsezP6SgAzZ6AEczCEFYtARgPp4oBRxgIwLAAUcMFEPgO8nhgZ6DMxM0iByAMycsCCzQMzhQxCC0mkakiDkAPjucDquTKkmIRI5pRUXEhEcQhDqIgzmAgy3IQBwoiDzUsxfoguvqiUz0NkrEhGj8gq6ARjZqgChjkFGoxmvMxm1cNALIxRfMNNWaxlPwAjj+s8CCaD028gJFjDojpEX0YyMXRK1ik6pSyIHHA8ZdI4Qxg4AG+LsG27gr5DpPDL8a+AJUTKUbmLgH4AEr4IGUVMkdyEAeyJ860DMsPKpBgEAIyMgGE7t8HIjt48eRgINV5MWCeEPE2jUZYDxkHDk2GoBLfMLIMTOmpIh/ZCOoHAhDyAHw88DG80avyERri7AHwIJN3LUYwLoUg7AIGzK0u4Gu4MniWQ5C0AGshEGdFIi2ZEWfBMiRiAM9K8iiZERaPIU6sDaX5AlToL+qoUqhNLMWSsw5iMZu20qC2ARqc7YHAAPT+IQDlDoHiwFK/Dw4I8bFKAU4eExjw0ddrLb+fhxIDwtIgihF4hkA4+G1owTMQbhFqwFFnqiQjCNKihhKyaHKOgC/tITBtUS5LWiAATg8RCQ1adNMqSupzkQKc1St1jyKOCC+s8zJnltF1cxL3/TA2CxGNoqB2iy2xCvMw2yjnZBK4nFCTIABrEuAB5CBG8ABHmDJzZNFJxEEHfBIPbM55wy1iRsyuxuAGMgf6qwahkSKsgNQCKgB+7SCHFi0AaDLU9i+jrlLivhJIbROgXhN4ulLgRiFgzQlpEzF81yUdXJL1KDMkBsIMLC2B4CD+xuIdES7yEQNMYsBrJSBFxuFHCQeB8CCLTBSIy3SI1XSLbhMpGjL9VSM9hT+xBrFMUloSe5MTbystg89hb1EO9msgYlDUYHUsy5syqgaCQfVPVQsBTUUwlbE0YbT0XITBB54zCEcCFgknhdQQXOBSTayAc/cL5Ic0gYUiEgopY45TX2EUQ4FSr20Ntk0xskZU4LwxSZc0UgdCbojnhswiogTU0eMU1Oa054ghEmtmtA8BU61GgboxybpRHeEx6PIzHQbO4OIhNucnAu1S+/kvgD1TURsPDC11UoVCEOIRtVb0Qx0IzxwAKxT1SBFu/JEsv/cz4IQ1FMQhP8sgHUUCFVkoxsAzHisgccTV6TYBBYsqUnEVV21UNRsVIPoUA8LStfky2IMVUB7Ucn+kYFsVSeHxNYp07PO80vdm9WqdNc5JYQboIPa5FZvPYVPEFLisYJxlYQ6k4wnLYBRNIhR8C+j2ITnXDFmPIVBIClL41U481XW1MtYBNO/LIhIuFQ2gtid0AT1FDZDMIRBAIMbEFYGC8pR2FerkYFBKC3++gKR1cq1ez4Z8IIePNpPEAQTlZyA1NgYiANJiFpMEITqe0fJwAR1lZwdNIRN+IRNIAQwwAHxU7tF3MeqsYHrKoVPiAQvENtdRc3FXFmgHQk60NSC7TsrgAM8wIM4wIK7rZoYaEODQAT1LAAGaACMBLy4Kwgpvbb6jAFuLSkdDdvKi1AbgAHiewCx3AT+VF2xGLgBG5CBB4icAbCC05DRUHMAFrNJyakcBS0+zI1GReXV7tRSlgVP7hNPwA2/vws1BuDSSoSzbtMBR+w6OLu7AdVRcIxF+ayaHKgNQSjNM1tTyRiFmR3QhiPYUyAEzRWyydlORmUw1VxFLvVSETVI6Kyah+sVq3M2XOtTgmDVlYtMUF05CCDZU6AD8/21EVUMTLgBnUtE4sDdbntX9e1JDt3FvnXZ+NW5GNwCf10McC25F4CDN/mEHUBfQjM+krpCo8CEHDy8PXsBQyUIPLjbwsMBuTuFTbACuay2EZ1M03wAG7DCOe3VkYhd4DWI9zUlSZU6y9TgxdiELDj+sRGORY6BgS5Y3DFEThiUQUHYhBjosAc7UBXEBC/oUSjWMwbgAbGkCEnYgu0d4SmWBFmhg0oLXwawATr4s01QNAKNQWGDT+WcnAHoV4KQUj/Gg99Vzhis14HYy3QbXhI1SpB7gCtAY3OJBDjggRi4SExrAAiQASyogypGjTrdsAZjAAi4gTh4sTpQyZTcgvyVWi6wgRf4vkzbZBsYx/yRBDDQgRd4Yo4pZRmwgk9elE/Ag0tmXQ1tgBewgS0w2lDegdpNgE1esxfzvVXmAl2r01VOyUkWiEHQ5pRcPYNAwW8uZOKtmgaIAVmOXBbLATB4BBr2XkkwBEGg50F4BBv6XQ5MIIRBEIQaXGLU2IRH4Gd6NgR8BluBpuc61Fr9+QRJIIR6LmjgKQVMmOd+xgSMg2ekkBReE1MffISPjoRxPYrGdaySNumTRun9QlVjZZCbTemXhumYRqUSRTuWlumbxumcTiz/lRyb1umfBuqgXhSePkaRFuqjRuqk3i+VIx5qVeqnhuqoJmpKNeqotuqrTmmaRkis5uquhmmt7umqVozd9OqyNuuemGoCcGpecZyzduu3dmTyFGu4puu6RuswNcL8teu95uuYC8IWWuu+FuzBbreETugQJOzEVuzFZuzGVqO2duzIrmuyluzKtuzLxuzM1uzNDpSAAAA7" alt="" width="277" height="186" />В начале июля, а именно в эту субботу, в Днепропетровске состоится конференция Agile Base Camp. Прошлый раз, в Киеве, все прошло отлично и я получил массу позитивных впечатлений. Поскольку организаторы -- чОткие адепты гибких методологий, они наверняка провели ретроспективу по всем правилам, в результате чего уроки были усвоены, хороший опыт будет повторен, а ошибки -- исправлены. Поэтому конференция в Днепре должна получиться еще лучше.</p>
<p><a href="http://dnepr.agilebasecamp.org/speakers/" target="_blank">Line-up спикеров</a> очень достойный, среди них нашлось место и для меня. Я расскажу о нашем опыте внедрения Scrum. Доклад будет нетехнический, а такой.. публицистически-философский :).</p>
<p>Кроме доклада я буду задействован еще на одном мероприятии, которое будет проходить в рамках конференции. Это будет тренинг по (угадайте?!) <a href="http://www.scrumguides.com/2011/06/tdd-net-in-action-2-net-3-4.html" target="_blank">TDD в .NET</a>. Совместно с <a href="http://twitter.com/#!/VitalyStakhov" target="_blank">Виталиком Стаховым</a> мы 2 дня будем склонять избранных счастливчиков на светлую сторону добра.</p>
<p>Так что, если вдруг будете в Днепропетровске, приходите -- потусим вместе! Ссылка на регистрацию -- на банере справа вверху.</p>
<p>&nbsp;</p>', N'Agile Base Camp: Днепропетровск, 2 июля', N'2011-06-29 14:49:14', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'dc038358-6cab-4a30-8c57-3fa53f46f85e', N'Outlook, кеп!', N'<p><img style="float: left; margin: 5px;" src="http://s1.tchkcdn.com/jokes/article/7/6/206367.jpeg" alt="" width="290" height="135" />Проектная переписка имеет свои особенности. Обычно писем много, а интересных вам может быть не очень. Если у вас еще и настроена синхронизация с телефоном, то можно среди общей кучи потерять действительно нужные и важные письма. (Они обычно адресованы вам и содержат слова "какого ...").</p>
<p>Я хочу от имени сами знаете кого поделиться одним секретом, как с помощью аутлука можно притушить наплыв писем и при этом держать их недалеко. Нужно конечно же создать правило. Ниже пошаговая инструкция (без картинок):</p>
<!--more-->
<p>1. Создаем папку, куда будем складывать не очень срочные/полезные письма;</p>
<p>2. Выбираем письмо, посланное на проектную группу, и нажимаем в аутлуке кнопку для автосоздания правила (там будет написано что-то вроде <strong>Always move Messages To: &lt;название_группы&gt;</strong>).</p>
<p>3. В появившемся окошке выбираем папку из п.1. Жмем ОК и смотрим, как все эти письма пропадают из инбокса.</p>
<p>4. (Хак). Вспоминаем правила почтового этикета, а именно пункт, что нужно обязательно читать письма, в которых вы лично стоите в To или СС (причем если вы в To, то еще и ответить нужно).</p>
<p>5. Идем в правила, находим наше новосозданное (оно обычно называется аналогично названию проектной группы), выбираем для него "изменить". Потом жмем два раза Next (должны попасть на список исключений), а там уже выбираем <strong>Except if my name is in the To or Cc box</strong>.</p>
<p>Всё. Теперь основная масса пойдет в папку, а письма, адресованные вам, остануться в инбоксе.</p>
<p>Последний момент. С чего это я всё пишу? Где здесь юнит тесты? На самом деле между правилами аутлука и юнит тестами есть одна очень важная общая черта &mdash; они повышают эффективность. Надеюсь, этот пост повысит чью-то тоже :).</p>
<p>&nbsp;</p>', N'Outlook, кеп!', N'2012-08-03 02:42:52', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'548d3530-f8ce-44c2-92cd-444e673df07f', N'Agile Base Camp 2012 в Киеве', N'<p>После успешного празднования Нового 2012 Года нас ждет весьма интересное событие -- конференция <a href="http://agilebasecamp.org/" target="_blank">Agile base camp</a>, которая состоится на этот раз в Киеве. Упор конференции сделан на продуктовую разработку, но это вовсе не значит, что для аутсорсеров не будет ничего интересного. Я считаю, что продуктовый взгляд на вещи будет полезен всем. Согласитесь, что лучше думать, что ты "делаешь что-то свое", чем "горбатишься на дядю" :)</p>
<p>Одна из сцен будет полностью посвящена инженерным практикам и мы (программный комитет, в котором я состою) расчитываем собрать там актуальные доклады, ориентированные в первую очередь на разработчиков. Я буду рассказывать о том, какие проблемы ждут продукт в продакшене, и как можно их предотвратить, благодаря чему будет больше времени на семью или хобби :)</p>
<p>Приходите -- для регистрации нажмите на синенький банер справа &nbsp;или <a href="http://agilebasecamp.org/register/" target="_blank">сюда</a>.</p>', N'Agile Base Camp 2012 в Киеве', N'2011-12-21 04:04:24', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'2788e4cb-c4c4-4b1e-bb57-4f4e499dacd2', N'Boo: как собрать проект на Teamcity/ в консоли', N'<p>На нашем проекте мы решили попробовать Boo для создания тестового DSL. Этот язык в свое время интересовал такого известного хлопца, как <a href="https://twitter.com/#!/ayende" target="_blank">@ayende</a> (у него в блоге даже есть специальный <a href="http://ayende.com/blog/tags/boo" target="_blank">тег</a>). Причем заинтересовал настолько, что он написал весьма классную&nbsp;<a href="http://www.amazon.com/DSLs-Boo-Domain-Specific-Languages/dp/1933988606" target="_blank">книгу</a>. После прочтения этой книги мы и задумали поиспользовать Boo.&nbsp;</p>
<p>Сам по себе язык очень прикольный. Многие фишки, из-за которых мне не нравится C#, здесь сделаны очень классно. Динамика была с самого начала, списки и хеши встроенные в язык и многое другое. Сейчас язык не особо развивается, сайт в запустении (примеры кода не показываются), но это все фигня. Того, что в нем работает, для нас должно быть достаточно.&nbsp;</p>
<p>Мы создали проект на Boo и подошли к проблеме сборки его на Teamcity и в консоли. В&nbsp;&nbsp;<a href="http://www.icsharpcode.net/OpenSource/SD/Default.aspx" target="_blank">#develop</a>&nbsp;все отлично собирается, а в консоли &mdash; нет. Что же делать?</p>
<p>После установки&nbsp;&nbsp;<a href="http://www.icsharpcode.net/OpenSource/SD/Default.aspx" target="_blank">#develop</a>&nbsp;появляется папочка&nbsp;<strong>C:\Program Files (x86)\SharpDevelop\4.1\AddIns\BackendBindings\BooBinding</strong>. Ее мы полностью копируем в наш репозиторий, скажем в папку <strong>.\Library\Boo</strong>. Возможно, там нужны не все файлы, но пока места на дисках хватает, мы не заморачиваемся.</p>
<p>Ну а потом просто собираем наш солюшен с Boo проектами с помощью такого заклинания:&nbsp;<strong>MSBuild.exe OurBooSolution.sln -m /property:BooBinPath=''.\Library\Boo''</strong>. Его же и используем на Teamcity. Еще нужно обратить внимание, что BooBinPath должен быть относительным для месторасположения солюшена.</p>
<p>&nbsp;</p>', N'Boo: как собрать проект на Teamcity/ в консоли', N'2012-06-22 03:22:39', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'2041b1d8-4bab-4797-a4c3-51c3338d49d4', N'Continious testing в Boo (и не только)', N'<p>Продолжаю серию постов про Boo. Язык конечно очень крутой и классный, но, когда начинаешь на нем что-то писать, неизбежно выходишь из зоны комфорта. В частности из студии переходим в sharp develop, который хоть и весьма крут, но лишен некоторых убийственно полезных фишек. Таких, как ReSharper или NCrunch. Сегодня поговорим о том, чем можно заменить последний.</p>
<p>Для начала, чтобы настроить всех на одну волну, пару слов о заменяемом. Если у вас оно не стоит, то нужно непременно поставить. NСrunch это такая штука, которая сама запускает тесты при изменении в коде. Это, по сути, один из быстрейших инструментов для TDD &mdash; действительно, для запуска тестов НИЧЕГО не нужно делать. Пишешь код, остановился на секунду &mdash; а оно уже собирает и запускает тесты. причем, пока оно это делает, можно писать код дальше. Это очень круто и очень печально, когда такой возможности лишаешься.</p>
<!--more-->
<p>В SharpDevelop есть запускалка для тестов. Но у нее есть несколько проблем. Первая &mdash; она работает только с NUnit. XUnit в ней не запустить. Вторая &mdash; для запуска тестов нужно двигать мышой. Быстрых кнопок пока не было обнаружено (я правда и не искал особо и не пробовал поставить в настройках. Причина кроется в первом пункте &mdash; зачем мне возможность запуска NUnit, если я хочу использовать XUnit).&nbsp;</p>
<p>В принципе, первую причину можно было бы попробовать решить с помощью плагина, но поиски успехом не увенчались. Результатом был только <a href="http://wiki.sharpdevelop.net/InsideSharpDevelop.Samples-GallioAddin.ashx" target="_blank">плагин для работы с Gallio</a>, шаги по установке которого напугали меня.</p>
<p>Но зато я вспомнил подкаст herding code про continious testing (тогда еще &nbsp;Greg Young обиделся, что его не позвали), где были авторы NCrunch и еще чего-то консольного. Вот это консольное (<a href="http://codereflection.github.com/Giles/" target="_blank">Giles</a> оно называется, ага) могло бы спасти меня. И почти спасло!</p>
<p>Посмотреть, как оно выглядит, можно <a title="http://vimeo.com/28560375" target="_blank">на этом замечательном видео. Но при чем же тут Boo?</a></p>
<p>А при том, что по умолчанию Giles не умеет собирать проекты на Boo. Все из-за того, что в Boo проектах есть свойство&nbsp;<strong>BooBinPath</strong>, в которое подставлятся правильное значение самим sharp develop. Мы уже решали эту проблему для TeamCity, но в данном случае то решение не подходит, потому что Giles не дает нам возможности задавать параметры для MsBuild. Т.е. их можно задать, но для этого нужно пилить исходники, что мне было лень.</p>
<p>Вместо этого я просто пошел в *.booproj файл и добавил такую строчку в секцию &lt;PropertyGroup&gt;:</p>
<p><strong>&lt;BooBinPath&gt;C:\Program Files (x86)\SharpDevelop\4.1\AddIns\BackendBindings\BooBinding&lt;/BooBinPath&gt;</strong></p>
<p>И.. ура! Оно заработало. Начало собирать проект и запускать тесты.</p>
<p>Однако осталась еще одна проблема. Giles не замечает изменений в *.boo файлах. При этом если добавить в проект *.cs файл &mdash; то всё отлично, при изменении тесты перезапускаются и, если стоит <a href="http://www.growlforwindows.com/gfw/default.aspx" target="_blank">Growl</a> (нафига оно надо можно увидеть в видео, от себя скажу только, что его нужно тупо скачать и установить &mdash; Giles сам его узнает и начинает использовать), то выскакивают окошки с результатами запуска. Тут наверное уже придется таки лезть в исходники.</p>
<p>А пока я просто выучил комбинацию клавиш <strong>ctrl-shift-s</strong> в SharpDevelop, <strong>alt-tab</strong>,<strong> r</strong> (перезапуск тестов в giles). Получается довольно быстро.</p>
<p>Кстати, еще как вариант можно использовать стандартный GUI XUnit&nbsp;Runner . Для этого нужно поставить NUget package <a href="http://nuget.org/packages/xunit.runners" target="_blank">xunit.runners</a>&nbsp;и запустить его из папочки tools. После этого собрать сборку и загрузить ее. Очень порадовала возможность не перезагружать сборку каждый раз после компиляции &mdash; runner достаточно умен, чтобы перегрузить ее и увидеть новые тесты. Однако, запустить их сам он не умеет, поэтому для полноценного continious testing нужно выучить другую комбинацию клавишь: <strong>F9</strong> (собрать проект), <strong>alt-tab</strong> (в XUnit), <strong>enter </strong>(тут еще нужно, чтобы кнопочка RunTests была в фокусе).</p>
<p>Вот так вот, happy continious testing!</p>', N'Continious testing в Boo (и не только)', N'2012-07-10 09:33:58', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'3e4b1a29-cb82-4ba7-ad1c-543c2a3100a9', N'Словари, сортировки и меньше кода', N'<p>Задача: есть словарь, нужно вернуть все строки, отсортированные по ключу, в одной большой строке. Это делает следующий код:</p>
<p>[[code]</p>
<p>public static string Compose(Dictionary&lt;string, string&gt; xmls)</p>
<p>{</p>
<p>&nbsp; &nbsp; var builder = new StringBuilder();</p>
<p>&nbsp; &nbsp; var sorted = xmls.OrderBy(k =&gt; k.Key).Select(k =&gt; k.Value);</p>
<p>&nbsp; &nbsp; foreach (var xml in sorted)</p>
<p>&nbsp; &nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; builder.AppendLine(xml);</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; return builder.ToString();</p>
<p>}</p>
<p>[code]]</p>
<p>Вроде бы все правильно, но ведь можно этот код уменьшить. Достаточно просто вспомнить про <strong>String.Join()</strong>:</p>
<p>[[code]</p>
<p>return String.Join(Environment.NewLine, xmls.OrderBy(p =&gt; p.Key).Select(p =&gt; p.Value));</p>
<p>[code]]</p>
<p>Или вообще убрать ручную сортировку:</p>
<p>[[code]</p>
<p>return String.Join(Environment.NewLine, new SortedDictionary&lt;string, string&gt;(xmls).Values);</p>
<p>[code]]</p>
<p>Оба последних варианта и выглядят короче и работают быстрее. Вообще, если вы видите в коде конструкцию <strong>foreach,&nbsp;</strong>это практически стопудовый индикатор того, что этот код можно ужать :)</p>
<p>&nbsp;</p>', N'А ведь можно короче!', N'2013-01-03 02:09:33', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'118e6042-d7cc-488b-9592-54be50028fb8', N'Agile Base Camp, Киев, 16 апреля', N'<p><img style="float: left;" src="data:image/gif;base64,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" alt="" width="277" height="186" />16 апреля в Киеве пройдет конференция по гибкой разработке <strong><a href="http://kiev.agilebasecamp.org/" target="_blank">Agile Base Camp</a></strong>. Целый день с четырех сцен неглупые люди будут рассказывать про разные полезные и интересные вещи, периодически упоминая слова Scrum, Kanban, Lean, Agile и может даже Story Points :). Среди этих людей <a href="http://kiev.agilebasecamp.org/serhiy-kalinets/" target="_blank">буду и я</a>. Навеное, проницательный читатель догадался об этом по баннеру, который мигает справа. Я буду вещать о замечательном фреймворке <a href="http://www.ayende.com/projects/rhino-mocks.aspx" target="_blank">Rhino Mocks</a>&nbsp;и его применении для написания&nbsp;тестов в стиле&nbsp;Arrange Act Assert .</p>
<p>Приходите! Должно быть интересно. Обычно такие мероприятия проходят в очень дружелюбной и комфортной атмосфере и оставляют после себя позитивный след в голове.</p>
<p>ЗЫ Мне, как докладчику, организаторы обещали выдать ограниченное количество <strong>промокодов</strong>, по которым можно получить <strong>скидку</strong> при регистрации. Кому нужно -- обращайтесь.</p>', N'Agile Base Camp, Киев, 16 апреля', N'2011-04-05 13:32:09', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'ed08edd1-9c51-4943-88f8-5c3454bd686f', N'TDD 4 .Net А что внутри?', N'<p>Сейчас на рынке доступно достаточно много систем для ведения блогов, сообществ и прочих сайтов. Вебдванольность плотно проникла в массы и чуть ли не единственной проблемой при создании блога стал выбор CMS системы.&nbsp;</p>
<p>Этой проблемой проникся и я в процессе запуска проекта TDD4.Net. Посмотрев с пяток CMS я решил, что лучше пусть наверное победит дружба, а сайт будет делаться на ASP.Net MVC. Зачем еще один велосипед?</p>
<!--more-->
<p>Мой путь в .Net начинался с ASP.Net. В свое время я достаточно хорошо изучил эту платформу, и даже получил статус&nbsp;Microsoft Certified Technology Specialist (<a href="https://mcp.microsoft.com/authenticate/validatemcp.aspx" target="_blank">пруфлинк</a>&nbsp;-- там нужно будет ввести&nbsp;<span style="font-family: Verdana, Arial, Helvetica; font-size: small;">Transcript ID 751428 Access Code 12341234</span>). Когда вышла первая превью MVC -- она мне очень понравилась. Но так и не было случая попробовать ее в деле. И тут появилась возможность совместить приятное с полезным.&nbsp;Сама парадигма MVC предусматривает написание тестов для контролеров. Я планирую развивать сайт с использованием TDD и использовать его в качестве примера.</p>
<p><sub>Открою секрет: на момент написания этого поста тестов еще нету :). Как такое я мог допустить? Дело в том, что сайт пока находится на стадии прототипа. Такой себе эксперимент. В случае удачи все будет переписано с использованием TDD, о чем будет сообщено.</sub></p>
<p>Итого стартовали мы с MVC 2 &nbsp;+ SQL express 2008. Пока полет нормальный.</p>
<p>Да, и поскольку сайт еще находится в активном развитии, не стоит огорчаться, что здесь нету комментариев, ссылок на аггрегаторы, прекрасного дизайна, интеграции с твитером, RSS и прочего. Это все (ну, может не все, но многое) будет обязательно реализовано. А пока -- если у вас есть твердое убеждение, что чего-то не хватает катастрофически -- напишите мне про это в электронную почту. Буду очень вам за это признателен.</p>', N'TDD 4 .Net А что внутри?', N'2011-01-30 14:39:32', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'b4783c1f-be95-4cd5-ba31-60d37c508b68', N'Конференция Network UA в Харькове', N'<p><img style="float: left; margin: 10px;" src="http://network-ua.com/wp-content/themes/network/images/network_logo.jpg" alt="" width="125" height="123" />В прошлую субботу прошла конференция <a href="http://network-ua.com/" target="_blank">network ua</a> в Харькове. Несмотря на то, что я знал про конферению достаточно давно, я как-то не планировал там выступать и ехать. Однако за месяца полтора я увидел, что там будет выступать <a href="http://ayende.com/blog/" target="_blank">Ayende Rahien</a> и понял, что должен обязательно поехать туда и, как минимум, пожать руку одному из своих кумиров.&nbsp;</p>
<p>Ехали туда мы в поезде в составе актива Kyiv alt.net, и, должен сказать, поездка прошла очень живо и весело. До 4-х ночи велись разговоры про различия разных моделей в DDD и другие интересные вещи. Разговоры эти велись под виски и пиво, в полседьмого надо было вставать, и в результате утро получилось не очень бодрым. Харьков встретил нас хорошей, как для середины октября, погодой, и мы поехали в IT Cafe.&nbsp;</p>
<!--more-->
<p><a href="http://itcafe.ua/" target="_blank">IT Cafe</a> -- это супер. Отличная амтосфера, круглосуточность, розетки, зарядки, перегородки, возможность подключения проектора, еда и выпивка -- лучшее место для тусовки гиков, которым кроме программирования, еще хочется пообщаться за рюмкой чая. В Киеве такого места очень-очень-очень не хватает.</p>
<p>На первый доклад (<a href="http://network-ua.com/speaker/sander-hoogendorn/" target="_blank">Sander Hoogendorn</a>) немного опоздали и поэтому смотрели трансляцию в другой секции. Кстати, идея транслировать ключевые выступления в маленьких залах мне очень понравилась. Доклад был интересным, Sander -- очень хороший докладчик. Некоторые моменты могут быть спорными, но в целом весьма интересный и целостный доклад.&nbsp;</p>
<p>Следующий доклад в моей программе был, конечно же, доклад <a href="http://network-ua.com/speaker/anton-vidishchev/" target="_blank">Антона Видищева</a>&nbsp;про TDD. Доклад прошел очень хорошо. В конце был ряд вопросов, на которые мне тоже хотелось бы ответить. На конференции этого сделать не получилось, вместо этого я планирую написать пост на эту тему.</p>
<p>На кофебрейке <a href="http://twitter.com/chaliy" target="_blank">Миша Чалый</a>&nbsp;показал мне, где сидит Ayende, причем абсолютно свободный для общения -- я ожидал толпу фанатов, если честно. Все таки таких людей не часто встретишь в наших широтах. Я воспользовался моментом пообщаться и сфоткаться с ним.&nbsp;<a href="https://lh5.googleusercontent.com/-aN-bVfWkk8s/Tp1uDQhCLeI/AAAAAAAAFTI/l2mD89VcPng/s720/WP_000090.jpg" target="_blank"><img style="float: right; margin: 2px;" src="https://lh5.googleusercontent.com/-aN-bVfWkk8s/Tp1uDQhCLeI/AAAAAAAAFTI/l2mD89VcPng/s720/WP_000090.jpg" alt="" width="200" height="260" /></a></p>
<p>На доклад <a href="http://network-ua.com/speaker/greg-young/" target="_blank">Грега Янга</a> я опоздал где-то на половину, и не пошел в главный зал, а смотрел трансляцию в одном из маленьких. Доклад был весьма прикольным, сам докладчик -- вообще супер. Во время выступления произошел полный лол -- Грега прервали на середине и предложили закругляться. Вроде как попутали время, он ожидал больше, дали меньше -- в итоге получилась непонятка. К тому же после доклада оказалось, что время еще есть, по поводу чего Грег сказал что-то вроде "я как-то совсем потерялся.. надеюсь, поезда у вас ходят по более адекватному расписанию". Но его сразу же взяли в кольцо и бомбили вопросами до сдедующего доклада.</p>
<p>Затем опять нужно было выбирать, куда идти, и я выбрал <a href="http://network-ua.com/speaker/rinat-abdullin/" target="_blank">Рината Абдулина</a>. Он очень хорошо рассказал, какие преимущества дает CQRS + DDD + Clouds для разработчиков и стартаперов -- слово "inspiring" как нельзя кстати подходит к его выступлению.&nbsp;</p>
<p>Следующий доклад в моем списке был доклад <a href="http://network-ua.com/speaker/alexander-beletskiy/" target="_blank">Саши Белецкого</a> про внутренности ASP.NET MVC. Саша - отличный докладчик, который показывает не только слайды, но и код. Нужно отметить, что это был единственный доклад, на котором я был, где можно было посмотреть код. Я почему-то думал, что их будет больше на такой конференции, и очень жаль, что так не получилось. Хотя нет -- Сандер тоже показывал код, как примеры реализации некоторых шаблонов. В общем, нужно больше докладов с живой демонстрацией.</p>
<p>Ну и завершение выступлений был сам <a href="http://network-ua.com/speaker/ayende-rahien-aka-oren-eini/" target="_blank">Ayende</a>. Несмотря на то, что выступление было несколько затянутым, и может быть местами скучноватым, в итоге оно получилось очень даже интересным. Главная идея -- SQL решения были хороши для 90-х, а сейчас нужно их пересматривать. И, получается, что большая часть того, что преподается и преподносится как best-practices уже давно таковыми не является. Не сказать, что это было для меня откровением, но после доклада было о чем задуматься.</p>
<p>В завершение был круглый (а на самом деле -- прямоугольный) стол с докладчиками. Из зала задавали вопросы, а докладчики на них отвечали. Почему-то вопросы были из серии таких, которые обычно задаются на нетехнических конференциях (как воспитывать программеров, какие тренды будут по разработке в будущем и т.д.). Никто не спрашивал, как пропатчить KDE. Я все никак не мог придумать подходящего вопроса :(. В итоге осталось какое-то ощущение недосказанности -- эти ребята могли рассказать что-то более интересное, нужно было только спросить.</p>
<p>Ну а после конференции мы устроили выездное афтепати Kyiv Alt.net. На котором вместе с коллегами из Харькова отлично провели время поедая суши и разговаривая на технические и не только темы.</p>
<p>Итог. Сказать, что конференция очень понравилась -- это не сказать ничего. Это была лучшая из конференций, на которой я был в этом году. И организация, и помещение, и докладчики, и тусовка -- все на высшем уровне. Спасибо организаторам и до встречи на следующих мероприятиях!</p>
<p>Кстати. Доклады в главном зале снимались на видео, и можно ожидать появления их в тырнетах. Рекомендую обязательно посмотреть.</p>
<p>&nbsp;</p>', N'Конференция Network UA в Харькове', N'2011-10-18 05:09:27', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'4eb21b45-d907-4ab1-8b19-64e7a40f1e9f', N'Отчет о конференции xpdays.ua 2011', N'<p><img style="float: left; margin: 2px;" src="http://xpdays.com.ua/wp-content/uploads/xpdays-logo2.png" alt="" width="179" height="81" /></p>
<p>Последний из трех дней конференции заняла, как это ни банально звучит,&nbsp; сама конференция.</p>
<p><span style="font-weight: bold;">Место </span>БЦ "Парус", как по мне, оказался отличным местом. Удобное расположение в центре плюс утро субботы сделали задачу "добраться до места" достаточно тривиальной. &nbsp;Залы были изолированы друг от друга, и не было такого, что слышишь доклад из соседнего зала вместо своего, как иногда случается на некоторых событиях.&nbsp; Немного неадекватный мужской туалет и теснота перед гардеробом -- пожалуй единственные минусы. Да и те скорее для галочки, а не реальные напряги.</p>
<p><span style="font-weight: bold;">Люди </span>делают события событиями. Какие бы не были крутые докладчики и классные организаторы, ценность конференций -- в общении с коллегами. Я был очень рад встретить знакомых ребят и пообщаться с ними за чашкой кофе (и не только). Также приятно было познакомиться с новыми людьми.</p>
<!--more-->
<p><span style="font-weight: bold;" lang="ru">Программа </span><span lang="ru">была очень интересная. Можно было найти доклады на любой вкус и цвет. Единственный недостаток -- сложность выбора, куда пойти, потому что хотелось успеть везде. Открытием для меня стала <a href="http://xpdays.com.ua/program/#tdd" target="_blank">демонстрация парного программирования в стиле</a></span><span lang="en-US"><a href="http://xpdays.com.ua/program/#tdd" target="_blank"> ping-pong</a> </span><span lang="ru">и ее ведущий, <a href="http://johannesbrodwall.com" target="_blank">Йоханес Бродвел</a></span><span lang="ru">.&nbsp; Дядька просто суперский, и я очень рад, что имел возможность познакомиться и пообщаться с ним. Пересказывать все доклады смысла наверное нет, тем более, что они будут доступны в видео -- следите за сайтом и твитером конференции :). Но могу сказать, что интересных докладов было достаточно.</span></p>
<p><span style="font-weight: bold;" lang="ru">Организация</span><span lang="ru"> была хорошей. Проблемы с интернетом решили стремительно (хоть к вечеру он и подустал), волонтеры все рассказывали и показывали, за таймингом на выступлениях следили исправно, в общем -- все было отлично. Головные микрофоны и запись видео -- это очень хорошие особенности </span><span lang="en-US">xpdays.</span></p>
<p><span style="font-weight: bold;" lang="ru">Мой доклад </span><span lang="ru">открывал конференцию в зале </span><span lang="en-US">B. </span><span lang="ru">Выступая в окружении <a href="http://blog.ploeh.dk" target="_blank">Марка Симена</a></span><span lang="ru">&nbsp;и <a href="http://twitter.com/#!/bibigine" target="_blank">Андрея Бибичева</a></span><span lang="ru">, я немного переживал, придет ли кто-то ко мне. Но зал был полным, что показывает интерес аудитории к темам </span><span lang="en-US">SOLID </span><span lang="ru">и </span><span lang="en-US">TDD.</span><span lang="ru"> В положенное время я уложился, но, пожалуй, не смог показать всего, что хотел. Тема намного шире отведенных 50 минут, и я планирую раскрыть ее глубже с помощью блога. Презентацию (без кода) можно посмотреть на <a href="http://www.slideshare.net/skalinets/solid-code-via-tdd" target="_blank">slideshare.net</a>. Я давно хотел совместить показ слайдов с живой демонстраций примеров в IDE и, как для первого подобного опыта, получилось неплохо.</span></p>
<p><span style="font-weight: bold;" lang="ru">Итого</span><span lang="en-US">: </span><span lang="ru">конференция удалась. Жду с нетерпением следующих событий!</span></p>', N'Отчет о конференции xpdays.ua 2011', N'2011-12-21 03:11:21', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'75eb1d6b-54cf-4be8-9b40-6f21788abddd', N'Когда новое лучше старого', N'<p>На самом рассвете своей карьеры я был уверен, что в средствах разработки полно багов, которые мешают разработчикам писать правильный код. Если программа не работала как следуюет, значит 100% виноват компилятор, который неправильно преобразовал мои намерения в машинный код. Спустя некоторое время я убедился, что все-таки в подавляющем большинстве отказов приложений виноват сам разработчик. И теперь, когда что-то идет не так, я ищу проблемы в коде, а не в инструментах.</p>
<p>Но недавно произошел случай, который, собственно и разворошил старые воспоминания. Я&nbsp;показывал коллеге, как мы пишем юнит тесты, и мы натолкнулись на следующую ошибку Rhino Mocks</p>
<!--more-->
<pre class="brush:csharp">------ Test started: Assembly: Loan.Tests.dll ------
Test ''Loan.Tests.Services.Common.BusinessData.MyTest.FactMethodName'' failed:
      System.NullReferenceException : Object reference not set to an instance of an object.
 at Rhino.Mocks.Impl.ProxyInstance.AreMethodEquals(MethodInfo left, MethodInfo right)
 at Rhino.Mocks.Impl.ProxyInstance.IsPropertyMethod(MethodInfo method)
 at Rhino.Mocks.Impl.RhinoInterceptor.Intercept(IInvocation invocation)
 at Castle.DynamicProxy.AbstractInvocation.Proceed()
 at MyClassProxyf2ef1b496be14949b1c8da5a20367563.Foo(String arg)
 at Loan.Tests.Services.Common.BusinessData.MyTest.b__0(MyClass c)
 at Rhino.Mocks.RhinoMocksExtensions.Expect[T,R](T mock, Func`2 action)
 at Rhino.Mocks.RhinoMocksExtensions.Stub[T,R](T mock, Func`2 action)
 at Loan.Tests.Services.Common.BusinessData.MyTest.FactMethodName()

0 passed, 1 failed, 0 skipped, took 13.39 seconds (xunit).
</pre>
<p>При этом мы вроде как ничего криминального не делали, а всего лишь пытались настроить стаб. Ниже примерный код (у нас был немного другой, но суть от этого не меняется):</p>
<pre class="brush:csharp">    
    public class MyTest
    {
        [Fact]
        public void FactMethodName()
        {
            MockRepository
                .GenerateStub()
                .Stub(c =&gt; c.Foo(null))
                .Return(null);

        }
    }

    public class MyClass
    {
        public int I { get; private set; }
        public virtual string Foo(string arg)
        {
            return null;
        }
    }
</pre>
<p>Самое интересное, что у нас полно других тестов, где используются стабы, и там все работает без сбоев. RhinoMocks своеобразный фреймворк -- очень мощный, но со своими тараканами. Однако за три года использования вроде как все тараканы выловлены, описаны, и помещены в чек-лист. Но в этом случае все выглядит нормально -- метод виртуальный, конструкторов нет, статических полей -- тоже. А оно не работает.</p>
<p>В общем, чухали мы тыковки пару часов, пока не привели стабируемый объект до состояния, аналогичного выше в листинге. Тест не проходит, мы коментируем свойство I -- и вот оно, чудо! Тест проходит. Оказалось, что если убрать модификатор для set, то все работает.&nbsp;</p>
<p>Результат меня весьма удивил, и я решил поделиться этими наблюдениями с миром. Прийдя домой, я быстро накатал тест из верхнего листинга, запустил, и он.. прошел. Я подумал, что рано я порадовался -- проблема вроде не собирается сдаваться.</p>
<p>А сегодня ВНЕЗАПНО &nbsp;один из разработчиков спросил вслух "так что, я меняю RhinoMocks на 3.6?". Ух ты, а у нас не последняя версия чтоли? Ага, у нас 3.5. Может в этом проблема с тестом? Проверка заняла 2 минуты и показала, что действительно, с обновлением версии тест работает, как и нужно.</p>
<p>Вот и получается, что новое не всегда хуже старого.&nbsp;</p>', N'Когда новое лучше старого', N'2011-02-01 08:29:04', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'abf89621-ebbc-4c7d-a559-6f2e5302a6ff', N'Глобальная перестройка: начало', N'<p>Исторически сложилось, что наш супер проект превратился в монстра с такими ТТХ</p>
<ul>
<li>проектов в солюшене: ~70</li>
<li>файлов в репозитории: ~11000</li>
<li>время сборки локально (<a href="https://lh4.googleusercontent.com/-fdhcViCIuEc/TiBQzRpm9LI/AAAAAAAAFRA/Ivm-owT92lM/system.jpg" target="_blank">не самый слабый комп</a>): ~8 минут</li>
</ul>
<p>Несмотря на то, что мы использовали трюки в виде неполных билдов, сборки в облаках и так далее, было понятно, что все это полумеры, которые только оттягивают выплату технического долга.&nbsp;</p>
<!--more-->
<p>И вот, в предверии очередного релиза на продакшен мы решились привести все в порядок. Начали со структуры солюшена. После прочтения <a href="http://www.ndepend.com/WhiteBooks.aspx" target="_blank">советов ребят из NDepend</a>&nbsp;мы окончательно поняли, что наше понимание правильности организации проектов расходится со здравым смыслом. Вместо мильйона маленьких сборок лучше иметь мало больших.&nbsp;</p>
<p>Немного подумав в стиле "гулять так гулять" и просмотрев мою <a href="http://www.slideshare.net/skalinets/ss-8582389" target="_blank">презентацию</a> про прелести DVCS мы решили еще и мигрировать с SVN на &nbsp;Mercurial. Причем использовать его поначалу пришлось в весьма жёстком (но при этом весьма веселом) режиме -- без центрального репозитория. Каждый завел у себя локальный репозиторий, туда склонировали рабочую версию с SVN, потом расшарили по сети папки и понеслась!&nbsp;</p>
<p>Такое использование сразу показало все преимущества Mercurial перед централизованными системами контроля версий.&nbsp;За три дня наколбасили ~200 ревизий и примерно столько же ревизий нужно было мержить. На примерах прочуствовали разницу между Update и Rebase, а также разобрались в большей половине галочек. Убедились, что это действительно быстрее и удобнее, чем в SVN.</p>
<p>Рефакторинг еще в процессе, но результаты уже впечатляют. Вместо 8 минут оно билдится максимум 1.5 минуты (это в режиме <em>Rebuild All</em> и когда комп в плохом настроении). Обычный же &nbsp;<em>Build All</em>&nbsp;после вытягивания чьих-то изменений занимает 8-15 секунд. Проектов пока 26.</p>
<p>После первых нескольких коммитов Resharper сказал, что больше тысячи файлов были с ошибками :) Мы методично фиксили ошибки и ждали, когда же они пропадут. И вот тут мы ощутили весь кайф от наличия модульных тестов :). Когда ошибок компиляции уже не было, тесты падали. Благодаря этому мы исправили еще кучу вещей, которые могли бы выстрелить позже и в менее подходящих условиях.</p>
<p>Чтобы еще больше приблизиться к феньшую, мы еще решили переделать деплоймент. У нас около 7-8 окружений, куда нужно все это хозяйство (3 windows сервиса, 1 web сайт, windows forms client) периодически деплоить. Поначалу придуманное на коленке решение перестало устраивать еще пару лет назад, но руки опускались его переколбасить. А тут под шумок наконец-то решились. Оказывается, что все можно сделать намного проще :)</p>
<p>Ну и в заключение мы затеяли улучшения для нашей системы Continious Integration. Прикрутили к <a href="http://www.jetbrains.com/teamcity/" target="_blank">TeamCity</a>&nbsp;dotCover и FxCop. Покрытие, кстати -- 67%. Мы еще ничего не настраивали, все это еще предстоит. Планируем прикрутить больше автоматизированных тестов и в идеале перенести всю регрессию на TeamCity.</p>
<p>Вот такие у нас успехи. Все это дело еще в процессе, но результаты уже показывают, что оно того стоит. И это не только полезно, но и интересно :)</p>', N'Глобальная перестройка: начало', N'2011-07-15 07:42:50', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'1c2885c0-dfac-4e1b-8f59-7d01b6d3b487', N'Про лень и бойскаутов', N'<p><img style="float: left; margin: 10px;" src="http://i407.photobucket.com/albums/pp157/23021987/CampLazloScreencap.jpg" alt="" width="320" height="240" />Есть у меня одна особенность. Многие ее называют ленью, но я уверен, что современная психология может дать более обстоятельный диагноз, хотя суть совсем&nbsp;не в этом.</p>
<p>Особенность эта связана с тем, как я пишу код. Обычно мысли бегут впереди рук, время на придумывание названий классов и методов тратить не хочется, и в результате появляются монстры с именами FooXXX или BooXXX. Также и с размерами классов/методов. Быстрее и проще накидать все в один метод, чем думать над тем, как бы его разбить на кусочки.</p>
<p>Когда результат (правильно работающая логика) получен, я нацелен вперед, пилить что-то дальше. А идея убраться за собой как-то не так воодушевляет. И остаются кривые (хоть и правильные) методы, кусочки коментариев и наспех придуманные имена.</p>
<p>При этом я всеми руками "за" предложенный дядей Бобом "принцип бойскаутов". На всякий случай приведу его еще раз: "бойскауты должны оставлять место после своего лагеря чище, чем оно было до них". Это очень правильная мысль, и, следуя ей, гораздо выше риск получить кайф от написанного тобой кода. Да и TDD имеет на этот случай что сказать: после <strong>Red</strong> &nbsp;и <strong>Green</strong> должен же быть обязательно <strong>Refactor</strong>.</p>
<p>Такой вот парадокс. Польза от чистого кода очевидна, но не всегда получается (в силу субъективных причин, конечно же) ее достичь. Это решается, конечно же, дисциплиной. Но что делать если последняя малость хромает?</p>
<p>Ревью кода &mdash; вот мой ответ. Это как раз то, что помогает в соблюдении феньшуя. Когда товарищ показывает твой факап, тебе как минимум стыдно. И в следующий раз ты уже будешь думать о фазе ревью и найдешь в себе силы порадовать бойскаутов.</p>
<p>А когда бойскауты довольны, то и мы довольны, правда же?</p>', N'Про лень и бойскаутов', N'2012-07-24 02:18:20', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'7aeecb84-3fc7-44d5-8014-83d2ba98807d', N'Приближаем репозитории', N'<p>На нашем проекте используется много Mercurial репозиториев. Их больше одного, они достаточно большие, находятся далеко и склонировать их занимает порядочно времени. Логичным решением для нас стал перенос их в наш офис, поближе и к разработчикам и к нашему билд серверу.&nbsp;</p>
<p>Идея в том, что разработчики забирают изменения с локальных репозиториев. Под словом "локальный" я имею ввиду находящийся в нашем же офисе. И пушат свои изменения в те же локальные репозитории. Билдсервер в свою очередь тоже следит за этими репозиториями.&nbsp;</p>
<p>Мы использовали такой сценарий на одном из прошлых проектов, когда все команда была в нашем офисе, и нам нужно было только заливать наши изменения во вселенский (центральный для компании) репозиторий. Это было сделано с помощью еще одной билд конфигурации Teamcity, которая следила за локальным репозиторием и с помощью command line шага hg push отлично пушила изменения. Текущая ситуация обострилась тем, что репозиториев стало больше и синхронизация должна стать двухсторонней, поскольку команды не из нашего офиса в них тоже активно производят изменения. [|more|]</p>
<h3>Настройка билд агента</h3>
<p>Первым делом необходимо убедиться, что на сервере, который будет делать синхронизацию, установлен Mercurial. В нашем случае весь зоопарк работает под Windows и поэтому еще лучше, если будет стоять <a href="http://tortoisehg.bitbucket.org/" target="_blank">TortoiseHG</a>. Это может показаться забавным, но неожиданно сила этого приложения проявилась в том, что с ним интегрирован такой себе <a href="http://mercurial.selenic.com/wiki/KeyringExtension" target="_blank">mercurial_keyring</a>, который позволяет запоминать пароли от репозиториев. По этой ссылке говорят, что его можно поставить и вручную, но мне это не удалось (может слабо старался) и решение от&nbsp;TortoiseHG оказалось более удобным. Кстати, аналогичная вещь пригодится и локально, даже если вы фанат консоли &mdash; лучше использовать версию <strong>hg.exe</strong> из папки TortoiseHG &mdash; тогда проблем с keyring не будет.</p>
<p>Итак, после того, как TortoiseHG установлен, нужно включить keyring и попробовать склонировать репозитории, в которые вам нужно будет пушить изменения. Это нужно для того, чтобы keyring запомнил пароли. Поэтому нужно делать это под учетной записью, которая имеет права на пуш (и сервис агента тоже должен работать под ней). Достаточно проделать это раз для каждого хоста. Когда оно спросит первый раз пароль, можно прервать процесс, и начать его заново. Если оно сразу станет стягивать репозиторий без спрашивания пароля -- все отлично, можно опять прерывать и двигаться дальше.</p>
<h3>Создание шаблона</h3>
<p>Конфигурации будут максимально простыми, но их будет много (по 2 на каждый репозиторий &mdash; в одну и в другую сторону соответственно). И здесь на белом коне появляется killer feature TeamCity: <a href="http://confluence.jetbrains.com/display/TCD7/Build+Configuration+Template" target="_blank">шаблоны</a>. И идея и реализация просто прекрасны &mdash; вынести общие вещи в шаблон, оставив в конфигурациях только специфические вещи. В нашем случае специфическими будут только адреса для pull и push.</p>
<p>Поэтому мы начнем с <a href="http://confluence.jetbrains.com/display/TCD7/Creating+and+Editing+Build+Configurations#CreatingandEditingBuildConfigurations-creatingBuildConfigurationTemplate" target="_blank">создания нового шаблона</a>. В нем не будем задавать VCS Root, потому что это одно из различий наших будущих конфигураций, и Root из шаблона нельзя изменить или удалить &mdash; можно только добавить еще один. Вместо этого добавим Build Step с powershell ранером. Этот ранер будет запускать вот такой скрипт:</p>
<p>[[code]</p>
<p>hg push %push.url% --verbose --new-branch&nbsp;</p>
<p>if ($LASTEXITCODE -gt 1) { $exiterror = $LASTEXITCODE } else { $exiterror = 0 }</p>
<p>[Environment]::Exit($exiterror)</p>
<p>[code]]</p>
<p>Здесь у нас обычный hg push c возможностью создавать новые бранчи (а мы это любим делать). URL для пуша будет задаватсья для каждой конфигурации отдельно с помощью <a href="http://confluence.jetbrains.com/display/TCD7/Configuring+Build+Parameters" target="_blank">параметра</a>&nbsp; <strong>%push.url%</strong>. Последние две строчки представляют собой танец с бубном, чтобы обойти одну бестолковое поведение HG, которая в случае, если нечего пушить, возвращает код ошибки 1. Без этих строк билды, в которых нет новых изменений, будут считаться упавшими.</p>
<p>Напоследок нужно проследить, чтобы конфигурации связанные с этим шаблоном запускались на нужном билд агенте. Мы делаем это с помощью добавления <a href="http://confluence.jetbrains.com/display/TCD7/Agent+Requirements" target="_blank">Agent Requirement</a> c условием <strong>system.agent.name CONTAINS имя_нашего_агента</strong>.</p>
<p>Устанавливаем триггер запуска билда "если найдены новые коммиты", и на этом создание шаблона закончено.&nbsp;</p>
<h3>Создание конфигураций</h3>
<p>Тут все очень просто. Идем на страницу проекта и жмем кнопочку <a href="http://confluence.jetbrains.com/display/TCD7/Creating+and+Editing+Build+Configurations#CreatingandEditingBuildConfigurations-creatingBuildConfigurationFromTemplate" target="_blank">Create from template</a>. Выбираем наш шаблон. Оно покажет окошко, где кажется, что можно ввести специфическое значение для &nbsp;<strong>%push.url%</strong>, но это неправда. Вводить туда что-то бесполезно, оно все равно проигнорирует (может это глюк нашей версии TeamCity).&nbsp;</p>
<p>После того, как конфигурация создана, нужно добавить к ней VCS Root. При этом важно научить TC следить за всеми бранчами (указать в Branch Specification +:*), иначе оно будет реагировать только на изменения в default.</p>
<p>Осталось только пойти в <a href="http://confluence.jetbrains.com/display/TCD7/Defining+and+Using+Build+Parameters+in+Build+Configuration#DefiningandUsingBuildParametersinBuildConfiguration-DefiningBuildParametersinBuildConfiguration" target="_blank">Build Parameters</a>&nbsp;и ввести правильное значение для&nbsp;<strong>%push.url%</strong>.&nbsp;</p>
<p>Всё! Можно запускать и после этого повторить шаги для остальных репозиториев.</p>
<h3>А чо если конфликты?</h3>
<p>Поскольку идет активный девелопмент с обоих сторон, конфликты неизбежны. Что же делать, если пуш не прошел? Все очень просто. Не в последнюю очередь из-за того, что меркуриал &mdash; это распределенная система, в которой конфликты очень просто разрешаются.</p>
<p>Нужно на девелоперской машине стянуть последние версии с обоих репозиториев, смержить их и запушить результта на локальный репозиторий. После этого, если не было изменений во вселенском репозитории, тимсити все запушит. Если же изменения были, проделать это опять.&nbsp;</p>
<h3>Вывод</h3>
<p>Совсем немного работы привело к отличному эффекту. Среди бонусов замечены следующие:</p>
<ul>
<li>Более быстрый билд и прогон тестов на тимсити</li>
<li>Более быстрый push/pull/clone для разработчиков</li>
<li>Возможность автономной работы в случае потери связи с центром</li>
</ul>', N'Приближаем репозитории', N'2013-03-12 08:53:14', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'341e9ae2-c25d-4539-8649-85f8068c3343', N'Тренинг xpdays: TDD in .NET', N'<p><span style="font-family: Calibri; font-size: 11pt;">В последнее время водоворот событий захлестнул меня с головой, и у меня никак не доходили руки написать обо всем происходящем в блоге :). Сейчас вроде все поутихло и можно попробовать вспомнить всё. Начну с конца, пока впечатления еще яркие.</span></p>
<p><span style="font-family: Calibri; font-size: 11pt;" lang="ru">На прошлой неделе в Киеве проходила конференция </span><span style="font-family: Calibri; font-size: 11pt;" lang="en-US"><a href="http://xpdays.com.ua/program/" target="_blank">xpdays</a>.</span><span style="font-family: Calibri; font-size: 11pt;" lang="ru">&nbsp; В течении трех дней происходили разные интересные мероприятия, в которых принимал участие и я.</span></p>
<p><span style="font-family: Calibri; font-size: 11pt;">Праздник для меня начался с двухдневного </span><a style="font-family: Calibri; font-size: 11pt;" href="http://xpdays.com.ua/trainings/#tdd-in-net" target="_blank">тренинга по TDD</a><span style="font-family: Calibri; font-size: 11pt;">, которым мы проводили вместе с </span><a style="font-family: Calibri; font-size: 11pt;" href="http://beletsky.net" target="_blank">Сашей Белецким</a><span style="font-family: Calibri; font-size: 11pt;">. Все прошло отлично. Я первый раз работал с Сашей и остался очень довольным. У нас совпало отношение к TDD и опыт его использования оказался похожим. Это позволило выступить нам на одной волне, дополняя и поддерживая друг друга.</span></p>
<p style="margin: 0in; font-family: Calibri; font-size: 11.0pt;" lang="ru">Отдельное спасибо группе. Уровень подготовки оказался весьма высоким, и это позволило нам рассказать и показать все, что мы планировали.</p>
<p style="margin: 0in; font-family: Calibri; font-size: 11.0pt;" lang="ru">&nbsp;</p>
<p style="margin: 0in; font-family: Calibri; font-size: 11.0pt;"><span lang="ru">Как и должно быть после хорошего тренинга, новые знания получили не только слушатели, но и тренеры. Я, например, открыл для себя <a href="http://fluentassertions.codeplex.com/" target="_blank">Fluent Assertions</a></span><span lang="ru">, о котором напишу отдельный пост.</span></p>
<p style="margin: 0in; font-family: Calibri; font-size: 11.0pt;" lang="ru">Спасибо всем участникам и организаторам за то, что это стало возможным, и до встречи на новых событиях!&nbsp;</p>
<p>&nbsp;</p>', N'Отчет о тренинге xpdays: TDD in .NET  Отчет о тренинге xpdays: TDD in .NET  Отчет о тренинге xpdays: TDD in .NET ', N'2011-12-21 01:41:14', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'f838dbfe-4296-4038-af4b-87e1cf82d105', N'Знай свой инструмент', N'<p>А вот такая задача. Допустим, вам нужно в winforms приложении показать диалог с какими-то данными, дать пользователю их изменить и сохранить. Данные представляют собой набор полей разных типов. Классический подход &ndash; натаскать элементов управления с палитры, поназывать их в стиле <strong>txtName</strong>, при показе формы пройтись по всем, заполняя текущими значениями, а в обработчике кнопки опять пройтись &ndash; и уже обновить поля модели значениями из элементов управления. Не очень увлекательный процесс. Если вдруг понадобится добавить полей к данным, нужно будет для каждого поля добавлять код чтения/записи его значения. Скукота, одним словом.</p>
<p>Удивительно, но из моих знакомых мало кто знает про возможности <strong>Visual Studio</strong> в этом плане. На самом деле процесс можно радикально упростить.&nbsp;</p>
<!--more-->
<p>Итак, возьмем для примера следующий набор данных: имя, рост и дата рождения. Данные инкапсулированы в классе <strong>Person</strong>:</p>
<p><img src="https://lh6.googleusercontent.com/-JN5oz_klApM/TrzppdQ4AdI/AAAAAAAAFvE/5FePw_lWPI8/s190/person%252520class.jpg" alt="" width="169" height="190" /></p>
<p>Для начала создадим проект Windows Forms Application. Главная форма не будет показывать данные, а будет содержать одну кнопку, которая будет показывать другую форму &ndash; уже с данными. После закрытия последней появится MessageBox cо значениями, которые сохранил пользователь. Такой вот лаконичный функционал.</p>
<p>Мы добавляем в проект класс Person и новую форму. А вот после этого magic begins. В меню <strong>Data</strong> выбираем <strong>Add New Data Source</strong>, <strong>Object</strong>:</p>
<p><img src="https://lh4.googleusercontent.com/-Wug_UntQB1U/TrzppWuWcsI/AAAAAAAAFvQ/bN843Z-Stv0/s665/selectDS.jpg" alt="" width="665" height="517" /></p>
<p>А потом &ndash; наш <strong>Person</strong>:</p>
<p><img src="https://lh6.googleusercontent.com/-rIbvzsv-TjM/Trzppm6bX1I/AAAAAAAAFvU/FJw9jJQYNHo/s668/SelectObject.jpg" alt="" width="668" height="515" /></p>
<p>В итоге у нас появляется новый источник данных, который можно увидеть через <strong>Data</strong> / S<strong>how Data Sources</strong>&hellip;</p>
<p><img src="https://lh4.googleusercontent.com/-RhrRDpS3ZB8/TrzppdeKP8I/AAAAAAAAFvM/UqRKPlECRSw/s271/DataSView.jpg" alt="" width="235" height="271" /></p>
<p>Мы видим класс и его свойства. Картинки слева определяют, как будет показываться это поле на форме. В зависимости от типа данных способы могут быть разными. Например, для роста выбор следующий:</p>
<p><img src="https://lh5.googleusercontent.com/--PFzwYxhdyA/Trzpq4LlwPI/AAAAAAAAFvk/BPWbRRwSTNg/s262/DSDD.jpg" alt="" width="232" height="262" /></p>
<p>И теперь можно смело переносить контролы на форму. Замечательно то, что можно переносить как отдельные элементы, так и весь класс сразу. В последнем случае он будет представлен или как таблица, или как набор полей (<strong>Details</strong>). Вот как выглядит форма, если на нее перетянуть объект:</p>
<p><img src="https://lh4.googleusercontent.com/--Cajb17A5QM/TrzppU2KGsI/AAAAAAAAFvI/gcHq8A4_DLM/s305/FORM.jpg" alt="" width="305" height="155" /></p>
<p>Неплохо, как для одного перетаскивания. Оно само разобралось и с названиями полей. Самое замечательно, что на форму был автоматически добавлен <strong>bindingSource </strong>и проведена привязка свойств его источника данных (<strong>Person</strong>) к соответствующим контролам. Мы удалим навигатор и добавим следующий код в проект:</p>
<pre class="brush:csharp">public partial class Form2 : Form
{
    public Form2()
    {
        InitializeComponent();
    }

    public static void EditPerson(Person person)
    {
        var form2 = new Form2 {personBindingSource = {DataSource = person}};
        form2.ShowDialog();
    }
}

    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void button1_Click(object sender, EventArgs e)
        {
            var person = new Person{ Name = "enter name", Birthday = DateTime.Now.Date, Height = 100};
            Form2.EditPerson(person);
            MessageBox.Show(person.ToString());
        }
    }

    public class Person
    {
        public string Name { get; set; }
        public int Height { get; set; }
        public DateTime Birthday { get; set; }

        public override string ToString()
        {
            return string.Format("Name: {0}, Height: {1}, Birthday: {2}", Name, Height, Birthday);
        }
    }
</pre>
<address style="text-align: justify;">Пара моментов:</address> <address style="text-align: justify;">1.<span style="white-space: pre;"> </span><strong>Person.ToString()</strong> был сгенерирован Resharper по <strong>Alt-Ins/Formatting Members</strong>, где просто нужно повыбирать поля, которые нужно показывать в <strong>ToString()</strong></address> <address style="text-align: justify;">2.<span style="white-space: pre;"> </span>Реализация показа формы из статического метода может вызвать вопросы. Хотя статики сами по себе &ndash; это зло, в данном случае приложение написано на коленке, и не претендует на победу в хитпараде дизайнов. В то же время такое решение инкапсулирует в себе логику показа формы избавляя вызывающую сторону беспокоится о таких деталях.</address>
<p style="text-align: justify;">Ну, собственно и все :). После запуска приложения мы можем смотреть и изменять объект <strong>Person</strong>.&nbsp;</p>
<p style="text-align: justify;">И наконец -- к чему все это. Я привел этот кейс, как наглядный пример того, что время, потраченное на изучение возможностей вашего инструмента очень быстро окупится, когда вы будете использовать его на полную силу. К слову, студия умеет делать эти вещи еще с версии 2005 :)</p>', N'Знай свой инструмент', N'2011-11-11 01:22:40', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'0bb6f5a2-202a-44da-b4b8-8e0e14513c78', N'Спасение нестабильного теста', N'<p>Иногда случается такая печалька, ты комитишь свой код -- локально все работает, а билд на CI сервере падает. Причем падает тест, который ты вообще не должен был затронуть. И если перезапустить билд безо всяких изменений, то он вдруг станет зеленым, как ни в чем не бывало. Такой вот себе нестабильный тест. Работает-работает, а потом -- бац! и перестает.&nbsp;</p>
<p>Стоит признаться, что одной из причин &nbsp;появления нестабильных тестов, является использование случайных значений в тестах. Например, int превращается в ноль.</p>
<p>Итак, что же делать, когда такой тест найден? Самый очевидный способ -- убрать случайные значения. Но за простотой скрывается опасность потерять все прелести, которые дают случайные значения. Я когда-то уже<a href="http://skalinets.blogspot.com/2010/09/blog-post_15.html" target="_blank">писал по этому поводу</a>, а недавно обраружил, что я&nbsp;<a href="http://autofixture.codeplex.com" target="_blank">не одинок в своих мыслях</a>. Поэтому лучше все-таки попробовать найти те самые плохие значение, которые ломают тест, и убрать их из списка допустимых. Вопрос в том, как это сделать.&nbsp;</p>
<!--more-->
<p>Обычный цикл не всегда помогает, если конфигурация значений происходит не в самом тесте, а в конструкторе или другом общедоступном месте. В таком случае очень кстати будут&nbsp;<a href="http://blog.benhall.me.uk/2008/01/introduction-to-xunitnet-extensions.html" target="_blank">теории из xUnit</a>. Нужно просто временно сделать пустую теорию, которая выполнит наш тест N+1 раз, и запустить ее под отладчиком. Когда тест упадет, можно посмотреть на значения переменных, и узнать, что именно привело к краху.</p>
<p>Приведу пример. Сразу скажу, что пример очень синтетический, и призван ответить на вопрос "как", а не "зачем".</p>
<pre class="brush:csharp">private int valueUsedByMultipleTests = new Random().Next(100);

[Fact]
public void FactMethodName()
{
	Assert.NotEqual(default(int), valueUsedByMultipleTests);
}
</pre>
<p>Здесь у нас проблема, потому что Random().Next() возвращает неотрицательное число, и значение по умолчанию для целого числа в это множество редко, но попадает. Если тест запускать как есть, то велика вероятность, что он не упадет. Как узнать проблемное число? (в этом сценарии мы притворимся, что не знаем, что это -- ноль; а в реальной жизни оно само собой получится). Меняем тест на следующий:</p>
<pre class="brush:csharp">public static IEnumerable&lt;object[]&gt; Foo
{
    get
    {
        int bigNumber = 10000;
        return Enumerable.Repeat(new object[] {1}, bigNumber);
    }
}

[Theory]
[PropertyData("Foo")]
public void FactMethodName(object ignored)
{
    Assert.NotEqual(default(int), valueUsedByMultipleTests);
}

</pre>
<p>Запускаем -- и видим, как он падает. Теперь осталось только запустить в отладчике и разобраться с ним окончательно. Ну и потом вернуть в прежний вид, убрав теорию.</p>', N'Спасение нестабильного теста', N'2011-06-20 17:07:49', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'e88118f2-1bfc-43a8-b504-8f1f20d905c2', N'Про юзабилити', N'<p>1. Тортоз, загружающий удаленные репозитории в модальном окне</p>
<p>2. Мой блог</p>
<p>3. Админские и тестовые утилиты</p>
<p>4. Нужно всегда стараться уменьшить время простоя и общего выполнения задач</p>', N'Про юзабилити', N'2012-06-12 04:13:53', 1)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'b21b086b-0a35-4c82-af38-8ffbe2c27dac', N'Консоль или GUI?', N'<p>Сегодня (хотя уже вчера) в очередной раз услышал фразу о том, что консоль -- это старо и неприкольно. Нефиг, мол, в эру графических интерфейсов писать малопонятные заклинания в черное окошко.&nbsp;</p>
<p>Что тут сказать. Раньше я тоже не понимал прелестей консоли. Но сейчас без нее мне неудобно. И в консоли я могу делать многие вещи значительно быстрее, чем мышкой и кнопочками.</p>
<p>Конечно, стандартный cmd в Windows весьма убог и заслуженно вызывает насмешки наших Unix - ориентированных братьев по разуму. Но, к нашей радости, есть другие решения, которыми я и хочу поделиться.[|more|]</p>
<h3>Powershell</h3>
<p>"Поделка" от Microsoft весьма крута на самом деле. Простые вещи там делаются просто, а сложные -- несложно. Я не считаю себя гуру по powershell, но даже поверхностное знание позволяет значительно увеличить собственную эффективность.</p>
<h3>Console2</h3>
<p>О ней я прочитал в <a href="http://www.hanselman.com/blog/Console2ABetterWindowsCommandPrompt.aspx" target="_blank">блоге Скотта Ханселмана</a>. Поставил себе и понял, что такое консоль на самом деле. Сейчас это первое приложение, которое я ставлю на свежепоставленный компьютер. Хотя, на самом деле, второе. Сначала же нужно поставить</p>
<h3>Chocolatey</h3>
<p>Абсолютно отрывная штука, которую можно <a href="http://chocolatey.org/" target="_blank">скачать тут</a>. Позволяет устанавливать приложения через командную строку. Вместо того, чтобы гуглить страницу с инсталятором Console2, качать его, запускать, клацать кнопки Next, OK и Finish, можно просто написать <strong>cinst Console2</strong>. И оно само все сделает. Очень удобно после перестановки Windows устанавливать свой джентельменский набор приложений. Можно даже создать пакет, который содержит другие пакеты, и поставить кучу прогамм одной командой. С MSI такое сделать намного сложнее. Кстати, ставится Chocolatey само тоже через консоль.</p>
<h3>PSGet</h3>
<p>Еще один <a href="http://psget.net/" target="_blank">разрыв шаблона</a>, написанный идейным лидером kievaltnet, <a href="http://twitter.com/chaliy" target="_blank">Мишей Чалым</a>. Позволяет очень просто ставить модули PowerShell. Что за модули? Ну, например</p>
<h3>Posh-git и posh-hg</h3>
<p>Две штуки, которые делают использование git и mercurial в консоли еще удобнее. Добавляют цветную раскраску, автодополнение для команд, веток, тегов и других идентификаторов. Также показывает в приглашении командной строки текущее состояние репозитория (сколько файлов изменено, добавлено и т.д.). Абсолютный musthave.</p>
<h3>И что с этого?</h3>
<p>А ничего. Каждый пользуется тем, что ему удобнее. Но я попробовал и GUI и консоль и могу авторитетно заявить, что консоль более удобна и продуктивна. А там, где она неудобна -- можно использовать GUI инструменты. Профессионалы же должны быть прагматиками, а не догматиками :)</p>', N'Консоль или GUI?', N'2012-09-29 00:55:03', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'fffc53cf-bc7f-44c1-9b8c-9821cd47bddd', N'Как тестировать приватные методы?', N'<p>Этот вопрос волнует многих разработчиков, которые начинают знакомиться с юнит тестами. Ход мыслей примерно такой "<em><strong>Нужно все тестировать --&gt; в моем классе есть приватные методы --&gt; как узнать, что они написаны правильно?</strong></em>". Некоторых он волнует до такой степени, что появляются тесты, в которых через отражение&nbsp;приватные методы&nbsp;вызываются и их результат проверяется. Но все выглядит несколько сложно, и возникает вопрос, как же это делать правильно? Может есть какие-то средства, которые облегчают задачу?</p>
<p><img style="vertical-align: middle; display: block; margin-left: auto; margin-right: auto;" src="https://lh5.googleusercontent.com/_XGlASEpaWdk/TX058mV9VQI/AAAAAAAAE7A/EfMSLCVIAHo/s800/black_box.jpg" alt="" width="336" height="269" /></p>
<!--more-->
<p>Черный ящик, изображенный на картинке, это вовсе не набор чудо средств. Это представление объекта для всего остального мира. Черный ящик, которому что-то дается на вход и что-то ожидается на выходе. Вот это <strong>что-то на выходе</strong> и нужно тестировать. Внутренности объекта не должны быть интересны никому, кроме него самого. Под "никому" я имею ввиду не разработчика, а коллег объекта, сюда относятся и тесты. Инкапсуляцию для того и придумали, чтобы спрятать личные вещи от посторонних глаз -- зачем же их вытягивать в тесты?</p>
<p>Когда-то я обсуждал это с коллегами и мне задали вопрос: "Но ведь мы же при написании теста знаем, что у объекта ВНУТРИ? Например, мы знаем, что там есть вызов метода другого объекта, и это знание позволяет нам сделать мок на этот другой объект. Получается, что нужно беспокоится о внутренностях?". Мой ответ следующий. Связь с другим объектом -- это <strong>внешняя зависимость</strong>. Ее можно рассматривать, как один из входящих параметров (это особенно видно, когда объект передается через конструктор или свойство). Поэтому все остается в силе :).</p>
<p>Что еще не нужно тестировать, кроме приватных методов? Ну, например -- работу внешних систем. На заре своего знакомства с TDD я принимал участие в очень запутанном проекте. Там был сайт (достаточно простой), который в каких-то своих делах использовал набор сервисов и COM+ компонент. Причем в COM+ логика тоже была не очень сложной. А сложной был процесс отладки, потому что нужно было на сайте повводить кучу параметров, выполнить какой-то процесс, приатачиться к работающей компоненте и смотреть, почему там все не так, как ожидалось. Меня на каком-то этапе это утомило, и я спросил: "А почему бы не поделать на это все дело тестов?". На что менеджер ответил "Ты что!? Как ты себе представляешь <strong>тестирование COM+</strong>?". "COM+ тестировать &nbsp;не надо -- его в Microsoft должны были оттестировать, и я думал, что он как раз работает как нужно. Нам нужно просто проверить, что мы вызываем его с правильными параметрами" -- на эту в общем-то правильную фразу не было никакой реакции (время было позднее, да и я не был в авторитетах), и так тот проект без юнит тестов жил (а вроде даже и живет) дальше.</p>
<p>В общем, кеп говорит, что если какой-то кусок делает другая система, то лучше ей просто верить. Сохраняем файл -- не нужно писать тест, который проверяет, что файл есть на диске. Сохраняем что-то в базе -- не тестим, что в таблице появилась новая запись.</p>
<p>Тут хочется сделать отступление и сказать "но". Но это справедливо только для юнит тестов. Есть по крайней мере две категории тестов, в которых вышеописанные проверки делать нужно.</p>
<p>Первая -- это интеграционные тесты. Это такие тесты, которые не проверяют отдельные модули, а проверяют как эти модули работают вместе. Хорошая аналогия -- <strong>юнит тесты</strong> это <strong>лабораторные испытания</strong>, а <strong>интеграционные </strong>-- <strong>полевые</strong>. Пишутся такие тесты с мыслью "Microsoft конечно все сделали и оттестировали, но правильно ли мы настроили среду?". Update работает -- тут вопросов нет, но создали ли мы таблицу? Правильный ли передаем список параметров?</p>
<p>Вторая категория тестов -- это так называемые ad-hoc тесты. Термин впервые был мною увиден в <a href="http://testdriven.net/" target="_blank">TestDriven.Net</a>&nbsp;(крайне полезная штука, я про нее еще расскажу поподробнее). Означает -- тесты на лету. Иногда хочется проверить какой-то концепт в действии, и быстрее всего превратить его в работающий код -- это написать тест. Подразумевается, что для того, чтобы код стал работающим, его нужно выполнить и убедиться, что он работает. Тесты представляют собой кратчайший путь от написания до выполнения. Так вот, если вдруг понадобиться посмотреть, как можно использовать некоторою технологию, можно набросать тест, выполнить, проверить, по необходимости подправить код, опять проверить и так, пока не заработает. После этого тест можно удалить, а код где-нибудь применить.&nbsp;Подробнее про этот и прошлый &nbsp;типы тестов я еще расскажу.</p>
<p>На этом можно было бы и закончить, но я вспомнил еще один интересный момент связанный с вопросом из заголовка поста. <strong>На вопрос есть "положительный"&nbsp;<a href="http://j.mp/hKg4HZ" target="_blank">ответ</a>!</strong>&nbsp;Я не буду его пересказывать здесь, но вернусь к теме поддержки TDD студией в одном из следущих постов.&nbsp;</p>
<p>Happy coding!</p>', N'Как тестировать приватные методы?', N'2011-03-13 15:24:59', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'f29e22bb-26c2-4f62-be1a-9fa68b36d069', N'Agile Base Camp в Днепре. Отчет.', N'<p>Вот так, неделя прошла, а я только дошел до отчета о Agile base camp. Но все равно -- лучше поздно, чем никогда :). Тем более, что так получится рассказать о том, что лучше всего запомнилось. Итак:</p>
<p><strong>Организация</strong>&nbsp;Тут все было отлично. Помещение хорошее, места хватало -- никто не толкался. Единственный момент, который мог бы нагрузить меня печалькой, это то, что моего бейджика не оказалось там, где их выдавали. Но организаторы честно пытались его найти в твитере, меня его отсутствие не парило -- я стремительно нарисовал себе новый, handmade, и потом&nbsp;оказалось, что у многих спикеров тоже были такие же -- нарисованные маркером. Как бы и весь повод погрустить. А, да! Опять не было видеосъемки. Ну и я забыл взять свою камеру.</p>
<p><strong>Доклады</strong>&nbsp;Были интересные. И как всегда те, на которые хотелось пойти больше всего, шли паралельно :). Традиционно зажгли lightnig talks. Причем, мне показалось, что они были мощнее, чем в Киеве. Очень интересный формат -- нужно будет попробовать и себе. <a href="http://www.slideshare.net/skalinets/ss-8524100" target="_blank">Мой доклад</a> прошел хорошо, только полчаса оказалось мало, в конце не успел все дорассказать.</p>
<!--more-->
<p><strong>Люди</strong>&nbsp;Опять забыл сделать себе визитку. Был блицдоклад о том, что нужно собирать визитки, и на конференции нужно набрать не меньше трех. Я этот план перевыполнил, но своих оставить так и не оставил. Но люди были интересные -- куча позитивного и полезного общения. Именно для этого и нужны конференции.</p>
<p><strong>Афтепати</strong>&nbsp;Отлично! В Днепропетровске весьма интересные заведения. Афтепати было в Campus, который на самом деле компьютерный клуб. Сидишь за столиком, а в 10 метрах народ шпилит. Удивила официантка, которая приняла у всех заказ и потом носила каждому (а было около 20 человек) отдельный счет. В Киеве я такого на массовых попойках не видел. Хотя опыта в этом деле немного. И еще порадовал туалет, в котором висит камера и честная табличка "ведется видеонаблюдение". За чем там наблюдать, я так и не понял. А вообще все прошло замечательно. Познакомился с интересными людьми, послушал прикольные истории, сам чего-то повтирал. Народ еще пошел в ночник, а я вернулся в гостинницу (и правильно, как оказалось сделал), потому что у меня на завтра был...</p>
<p><strong>Тренинг</strong>&nbsp;В этот раз нас приютила компания SoftServe, за что ей отдельное спасибо. Тренинг прошел&nbsp;весьма продуктивно, хоть и&nbsp;несколько спонтанно. Некоторые технические трудности пытались выбить нас из колеи, но им это не удалось. Прогамма по ходу малость изменилась, что позволило все участникам получить больше пользы. Вроде как всем понравилось, и вечером в понедельник, после нашего тренинга, личный состав армии TDD-шников расширился.</p>
<p><strong>Город </strong>Весьма позитивный. Мы тусовались в основном в центре и город показался маленьким, но это, конечно же, иллюзия. А так -- аккуратненько и красивенько. Вечером решил пройтись от генделыка в центре до гостинницы (а жил я в Рассвете, если кому-то это о чем-то говорит. Походу -- такой себе аккуратный совок с кондиционером в номере). По дороге запланированно забрел в какие-то <a href="http://forum.lingvo.ru/actualthread.aspx?tid=68301" target="_blank">чигири</a>. Запланированно -- потому что со мной были Яндекс Карты. Иду себе, иду -- и вижу, что вверху висит что-то очень похожее на канатную дорогу. Потом у таксистов поспрашивал -- действительно, <a href="http://lb.ua/news/2010/04/06/36562_Ozhivet_li_kanatnaya_doroga_v_Dnep.html" target="_blank">канатная дорога</a>. Жалко, не работает сейчас.&nbsp;</p>
<p><strong>Итого</strong>&nbsp;Это была моя первая конференция в другом городе. И как для посетителя и как для докладчика. Днепропетровск очень понравился и вообще все прошло здорово. Ходите на конференции -- это и интересно и полезно.</p>', N'Agile Base Camp в Днепре. Отчет.', N'2011-07-11 15:48:05', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'd76e9540-8392-4512-9790-9feaf66457cd', N'Запуск проекта', N'<p>Всем привет. Вашему вниманию представляется еще один проект про около-Agile процесс. Зачем это нужно?</p>
<p>Test Driven Development это одна из техник, про которые все знают, но мало кто используют. При чем большая часть не использующих с радостью бы использовала, но не в этой жизни. А в другой - где не будет дедлайнов и ограничений для творчества программиста. Когда он наконец-то сможет выкинуть старый плохой код и написать новый, логичный, красивый, стройный и просто прекрасный. В котором конечно же будут юнит тесты. И не просто пара-тройка, а будет обеспечено 100% покрытие. Э-эх! Когда же оно будет такое время? Наверное никогда...  Вот такие мысли одолевают разработчиков и TDD отправляется в конец списка &ldquo;когда-нибудь надо попробовать&rdquo;.</p>
<!--more-->
<p>Бывает и по другому. Люди пробуют использовать подход но он у них не работает. Обычно это происходит из-за того, что при адаптации подхода из него выбрасывают жизненно важные части. Разработчики -- люди в большинстве умные и способны критически оценивать то, что им рассказывают. Принятие TDD происходит примерно так: &ldquo;Ага, тесты, которые проверяют, что код работает. Супер идея -- класс! Но вот насчет написания тестов перед кодом это они уже малость перебирают. Или у них менталитет другой. В любом случае -- мы так делать не будем&rdquo;.  И в итоге практика внедряется частями, но они не работают из-за того, что другие части отсутствуют. Я еще напишу про это поподробнее.</p>
<p>Еще есть менеджеры, которые вообще критически оценивают все нововведения и в первую очередь пытаются понять, насколько эта новая модная штука сдвинет им график. &ldquo;TDD? Так это ж нужно писать в два раза больше кода чем без него. Нет, мы не будем так делать -- мы и так не успеваем&rdquo;.</p>
<p>А на самом деле это работает. Есть проекты, успех которых обеспечен не в последнюю очередь внедрением TDD. Есть люди, которые не представляют себе, как можно писать нормальный код без юнит тестов. Есть инструменты, которые позволяют это делать просто и быстро. И есть методики, благодаря которым все это работает.  Нужно только донести всю полезную информацию до благодарных потребителей, чтобы они стали ею пользоваться и приблизили наступление мирового господства TDD.  Вот зачем нужен этот ресурс.</p>', N'тестовый пост', N'2011-01-30 12:46:28', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'ca4dbcd2-f32c-4d88-adf4-a7d9d666fddd', N'ConEmu: Новый лидер моего хитпарада консолей', N'<p>Мне уже когда-то советовали попробовать&nbsp;<strong><a href="http://code.google.com/p/conemu-maximus5/" target="_blank">ConEmu</a></strong>, и сейчас вот опять в коментариях<a href="Post?postID=b21b086b-0a35-4c82-af38-8ffbe2c27dac" target="_blank"> к посту про консоли</a> я увидел упоминание о ней. В прошлый раз я попробовал поставить, но чего-то не пошло. Но в этот раз я поставил и мне она понравилась. Про нее тоже<a href="http://www.hanselman.com/blog/ConEmuTheWindowsTerminalConsolePromptWeveBeenWaitingFor.aspx" target="_blank"> писал Ханселман</a> и ее можно поставить через Chocolatey:&nbsp;<strong>cinst conemu.&nbsp;</strong></p>
<p><strong></strong>Но ко всему этому в интеграция с Far, можно запускать отдельные табы под администратором или другим пользователем, запинить разные настройки на панели задач, подстраивать внешний вид под запущенное приложение и делать еще кучу всего, о чем я даже и не подозреваю. Более подробно можно почитать у Скотта ну и на сайте разработчиков конечно же.</p>
<p>К тому же это приложение активно развивается и вообще -- весьма здоровское. Так что смело рекомендую всем любителям консоли попробовать его.</p>', N'ConEmu: Новый лидер моего хитпарада консолей', N'2012-10-02 01:51:14', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'fbf2d870-09e6-47de-8b54-ab3708bb70f7', N'Чистый код: зачем он нужен?', N'<p>Я уже <a href="Post?postID=74a232f4-b149-4f41-b268-0f7d4760aa3f" target="_blank">писал</a>&nbsp;про книжку <a href="http://amzn.to/h1Ppzx" target="_blank">Чистый Код</a>. Она действительно заставила меня призадуматься о&nbsp;чистоте кода. Многие думают, что если код работает, то это уже хорошо. Многие их этих многих вспоминают анекдот про папу программиста и солнце и не меняют то, что и так работает. Некоторые рефакторят код, чтобы порадовать свое чувство прекрасного. Я, например, так делал. А Боб привел <strong>рациональную причину, почему нужно постоянно улучшать код</strong>.&nbsp;</p>
<!--more-->
<p>Как ни странно, причина в том, что улучшение кода экономит время. Время на прочтение и понимание этого кода. Кто-то скажет &laquo;да ну нафиг &ndash; я и так понимаю свой код&raquo;. Но, во-первых, ты понимаешь &ndash; а твой коллега? А во-вторых, даже <strong>ты через недельку &ndash; другую можешь запросто перестать понимать</strong>, что там написано. И не говорите, что с вами такого не бывало никогда. Еще вопрос &ndash; а зачем мне читать свой код? Вот тут и скрыта главная фишка, которую донес до меня дядя Боб. <strong>Мы тратим ОЧЕНЬ много времени, читая код</strong>. Причем что свой, что чужой. Он пишет, что в каком-то олдскульном редакторе есть возможность записывать действия, а потом их прокрутить. И, наблюдая за записанным процессом написания кода, он заметил, что как такового писания относительно немного. Большую часть времени занимает поиск места, куда нужно вставить код, анализ уже существующего кода, который можно было бы использовать повторно и т.д. Типа открыл файл, прокрутил, посмотрел, начал что-то писать, стер, переключился в другой, там что-то тоже посмотрел, опять написал в первом файле и т.д.&nbsp;</p>
<p>Раз мы уж так много читаем, то лучше уж читать приятные вещи, правда? Оно и эффективнее, и позитивнее влияет на настроение. Ведь что лучше &ndash; думать &laquo;Блин, кто это писал&hellip; Нифига не понятно, ну как так можно?!&raquo; или &ndash; &nbsp;&laquo;Супер! &nbsp;Как все-таки хорошо чувствовать себя причастным к нашему проекту. Все понятно, логично &ndash; хоть в блог выкладывай&raquo;?</p>
<p>Аспектов, которые можно в коде улучшить, есть много. Это и наименования, и размеры методов и классов, и организация членов внутри класса. Сюда входят также правила оформления кода, коментарии, разбиение функционалам по классам и еще что-то, что я мог забыть. Собственно все то, ради чего нужен рефакторинг.&nbsp;</p>
<p>Я планирую серию постов на тему чистого кода. Тема может быть не такой уж и однозначной, и я буду только рад если несогласные (или согласные) затеют дискуссию. Сейчас на сайте коменты <span style="text-decoration: line-through;">отключены</span>&nbsp;отсутствуют, поэтому прямо тут развернуть обсуждение пока не получится. Но можно сделать это через электропочту, скайп, buzz, twitter и т.д.&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>', N'Чистый код: правила наименования', N'2011-03-16 14:12:02', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'04edcffd-d1c2-42c1-b4a4-ab80b3574f7e', N'AgileBaseCamp CREW DRILL: Отчет о конференции', N'<p><span lang="ru">В прошедшие выходные прошла очередная конференция </span><span lang="en-US">AgileBC. </span><span lang="ru">На этот раз нас принимал Харьков.&nbsp;</span></p>
<p style="margin: 0in; font-family: Calibri; font-size: 11.0pt;"><span lang="ru">Ехали туда в поезде с</span><span lang="ru"> <a title="https://twitter.com/xpinjection" href="http://mce_host/Blog/@xpinjection" target="_blank">@xpinjection</a></span><span lang="en-US">&nbsp;</span><span lang="ru">и <a title="@alexbeletsky" href="https://twitter.com/alexbeletsky" target="_blank">@alexbeletsky</a></span><span lang="en-US">. </span><span lang="en-US">Как настоящие пацаны, ехали на верхних полках и полночи тусили в коридоре, обсуждая&nbsp;</span>&nbsp;последние достижения программостроительства.</p>
<p><span lang="ru">Харьков встретил прохладно и с дождиком. Позже, на первом докладе&nbsp;</span><span lang="en-US">Pawel Lipinsky очень верно заметил, что</span><span lang="ru">"обещали одессу в мае, а получили харьков в декабре". А мы с утра сразу направились в&nbsp;</span><span lang="en-US">itcafe,&nbsp;</span><span lang="ru">где отличный завтрак привел нас в чувство, и жизнь стала налаживаться. После этого мы поехали на конференцию.</span></p>
<h3><span style="font-size: 11pt; font-family: Calibri;">Организация</span></h3>
<p>Метафорой конференции были выбраны командные учения на корабле. В результате получились два дня, наполненных интересными докладами и прикольными мастер-классами (или воркшопами &mdash; боюсь, не смогу схода назвать разницу между этими двума терминами).</p>
<p>Раздаточных материалов при регистрации не было, и не могу сказать, что это было плохо. У меня всегда проблема, куда девать все эти блокнотики и папочки. А тут&nbsp;&nbsp;только удобно сворачиваемая программа &mdash; ее запросто можно было всунуть в карман, что я и сделал.</p>
<!--more-->
<p>Все было отлично, интернет работал, еда была на месте и вкусная, давки не было (кроме предпоследнего одного доклада &mdash; но там очень быстро все порешали, поменяли площадки и все стало опять отлично).&nbsp;&nbsp;</p>
<h3><span style="font-family: Calibri; font-size: 11pt;">Доклады</span></h3>
<p>Был не на всех конечно же, но практически все из посещенных были отличными. Ниже вкратце пройдусь по понравившимся.</p>
<p><span lang="ru"><strong>Дима Ефименко</strong> &mdash; про военный </span><span lang="en-US">agile</span><span lang="ru">. Оказывается, всё придумали немцы и давно, а нас учили всякой ерунде. Очень познавательно и интересно.</span></p>
<p><strong>Надя Земскова</strong> &mdash; про ломание стен и пиво на демах. Если команда распределена по разным странам &mdash; все равно она должна оставаться командой. Несколько простых но эффективных рецептов командостроения.</p>
<p><span lang="ru"><strong>Антон Зотин</strong> &mdash; про девочек и </span><span lang="en-US">agile. Про опыт использование agile методологий при постоении системы для HR отдела (или компании). При этом "девочки" == "заказчики не шарящие в IT", а вовсе не "не мальчики". Хотя в примере Антона было ~100 девочек и 4 мальчика :)</span></p>
<p><strong>Кирилл Климов</strong> &mdash;&nbsp; про альтернативы азартным играм на работе. Planing Poker не всегда рулит, но это не беда. Агилисты придумали другие способы для полноценных и достоверных оценок, о которых поведал нам Кирилл.</p>
<p><strong>Роман Чепляка</strong> &mdash; про "ощути себя ламером, девелопер". Я ощутил. А еще у меня теперь стоит хаскель и есть программа, которая работает, и я могу понять половину написанного в ней. Очень круто &mdash; мне понравилось.</p>
<p><strong>Павел Липински</strong> &mdash; про забор и пятнышки. Мотивационный доклад про обучение новому и взаимодействие. При чем тут забор? Павел привел очень клевый пример дороговизны багфиксов, когда маляр пару часов красил забор, а потом два дня выводил пятнышки краски на полу.</p>
<p><span lang="ru"><strong>Саша Белецкий</strong> &mdash; про архитектуру в </span><span lang="en-US">javascript. В этот раз я доклада Саши не видел, но видел его до этого &mdash; и он классный.</span></p>
<p><strong>Толик Колесник</strong> &mdash; про собеседования. Пара дельных советов, чего спрашивать, и чего отвечать. Ну и дизайнерские слайды, как всегда.</p>
<p><strong>Сергей Калинец</strong> &mdash; про гнилые отмазки при внедрении TDD. Наконец-то я смог сделать доклад про TDD (для этого пришлось проникнуть в оргкомитет). Вроде бы все, что хотел &mdash; рассказал. Народ вроде бы проникся.</p>
<h3 style="margin: 0in; font-family: Calibri; font-size: 11.0pt;"><span lang="ru">Афтепати</span></h3>
<p>Оооо. Одна из причин, почему люди ходят на конференции &mdash; это нетворкинг. А самое лучшее место для нетворкинга &mdash; это конечно же, афтепати!</p>
<p><span lang="ru">Первое было суперским, шумным и веселым. Мощное "<strong>агиииил</strong>!" (не путать с тагилом -- это </span><span lang="en-US">agile </span><span lang="ru">по латыни) периодически пугало окружающих нас учителей и девишниц. Все пьяные и веселые и говорят про компы. Тру IT party!</span></p>
<p>Второая афтепати было тоже очень здоровским. Мы самоорганизовались, Надя Земскова взяла на себя выбор заведения и логистику, и вот мы в пабе. Были мы там одни (!) на весь зал (а какое-то время и на весь паб). При этом пиво и еда были отличные и поговорить можно. Наговорились от души. Особенно понравился рожденный брейнштормом способ поприкалываться над товарищами по команде. Он заключается в том, что нуж</p>
<h3 style="margin: 0in; font-family: Calibri; font-size: 11.0pt;" lang="ru"><span style="font-size: 11pt;">Вывод</span></h3>
<p>Это была наверное самая лучшая из конференций, в которой я принимал участие. Интересная программа и классные люди &mdash; именно то, ради чего стоит ходить на такие события :) До встречи на следующих мероприятиях!</p>
<p>&nbsp;</p>', N'AgileBaseCamp CREW DRILL: Отчет о конференции', N'2012-06-03 13:02:57', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'3997258a-c799-4393-84ab-abd9c27d039f', N'Programmer Competency Matrix', N'<p>В жизни разработчиков многда наступает момент, когда он себе кажется очень крутым. <a href="http://lurkmore.ru/%D0%A7%D0%A1%D0%92" target="_blank">ЧСВ</a>&nbsp;зашкаливает, все кругом дураки и не лечатся, и вершина совершенства уже достигнута. Это несколько опасное состояние, есть риск подцепить звездную болезнь, которая трудноизлечима.</p>
<p>Если у вас есть знакомые с похожими симптомами, или вы начинаете подозревать их в себе, посмотрите на вот <a href="http://j.mp/eRRh8d" target="_blank">эту страничку</a>. Даже если симптомов нет -- все равно посмотрите.</p>
<p>Это потрясающая подборка навыков, которыми может обладать разработчик, организованная в виде матрицы компетентности.&nbsp;Эту матрицу можно использовать как холодный душ для начинающих (и продолжающих тоже) звездиться ребят. А можно сделать из нее персональный план развития.</p>
<p>Конечно, не всё из перечисленного в таблице нужно сразу.&nbsp;Но было бы интересно пообщаться с людьми, которые узнают себя в последней колонке (level 3). Ощущают ли они себя звездами?</p>
<p>&nbsp;</p>', N'Programmer Competency Matrix', N'2011-03-01 16:13:18', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'8262909b-daa5-4461-a417-bda394483354', N'Тренинг TDD .NET in Action', N'<p><a style="float: left; padding: 3px;" href="http://www.scrumguides.com/2011/06/tdd-net-in-action-2-net-3-4.html" target="_blank"><img title="TDD .NET in Action" src="../Content/images/banner_SCRUM-nobugs.gif" alt="TDD .NET in Action" /></a></p>
<p>25-26 ноября в Киеве состоится очередной тренинг <a href="scrumguides.com" target="_blank">scrumguides</a>. Вместе с Виталием Стаховым мы покажем, как с помощью TDD .NET-разработчик может значительно повысить свою эффективность. После двухдневного погружения в мир тестов вы будете готовы начать применять этот подход на следующий день в своей работе.</p>
<p>Одна из самых частых ошибок при внедрении TDD &ndash; это создание хрупких тестов, когда изменения в одном месте рабочего кода требуют каскадных изменений в коде тестов. Затраты на эти изменения со временем растут, и в итоге TDD забрасывается с очередным постом на тему &laquo;Нафиг TDD&raquo;. Мы расскажем, как этого можно избежать.</p>
<p>Мы еще много чего интересного расскажем и покажем. Максимум практики позволит научить не только голову, но и руки.</p>
<p>Для перехода к более детальному описанию тренинга и регистрации нажмите на баннер (должен быть на страничке такой оранжевый и мигает).</p>
<p>Приходите -- будет интересно!</p>
<p>И еще: если у вас есть сайт, пожалуйста, повесьте на нем наш баннер. А мы за это дадим вам скидку 10% на посещение тренинга. Код банера:</p>
<div style="width: 100%;">&lt;a href="http://www.scrumguides.com/2011/06/tdd-net-in-action-2-net-3-4.html" target="_blank"&gt;&lt;img src="http://tdd4.net/Content/images/banner_SCRUM-nobugs.gif" title="TDD .NET in Action"  alt="TDD .NET in Action"/&gt;&lt;/a&gt;</div>
<p><br /> <br /></p>', N'Тренинг TDD .NET in Action', N'2011-11-21 16:14:17', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'51a8c0f0-e516-4772-9334-bdc6dd411f5f', N'Анонимус доставляет', N'<p>Наткнулся на очень интересную особенность анонимных типов. Началось все с теста, которые не проходил, хотя видимых предпосылок для этого не было. Точнее, началось все с идеи использовать анонимные классы в качестве ключей в кеше. Очень удобным казался код типа</p>
<pre class="brush: csharp;">[Fact]
public void AnonymousTest()
{
    var table = new Dictionary&lt;object, object&gt;();

    var value = new object();
    table.Add(new {Key1 = "key1", Key2 = "key2"}, value);

    table[new {Key1 = "key1", Key2 = "key2"}].Should().Be(value);
}</pre>
<!--more-->
<p>Не нужно было бы создавать быдло POCO объекты для ключей -- красота :). Но в одном случае подобный код почему-то не работал. После некоторых поисков оказалось, что если создание объектов-ключей выполняется в разных сборках, то тест не проходит:</p>
<pre class="brush: csharp;">[Fact]
public void AnonymousTest()
{
    var table = new Dictionary&lt;object, object&gt;();

    var value = new object();
    AnotherClass.AddValue(value, table);

    table[new {Key1 = "key1", Key2 = "key2"}].Should().Be(value);
}

namespace AnotherAssembly
{
    public static class AnotherClass
    {
        public static void AddValue(object value, Dictionary&lt;object, object&gt; table)
        {
            table.Add(new {Key1 = "key1", Key2 = "key2"}, value);
        }
    }
}
</pre>
<p>При этом если класс AnoterClass из примера выше перенести в одну сборку с тестом, то последний проходит :).</p>
<p>В каких случаях этот код будет в разных сборках? Как минимум -- в юнит тестах :) Поэтому пришлось использовать Tuple&lt;&gt; c ихними тупыми безымянными ItemA, ItemB...</p>', N'ыва', N'2011-12-25 14:45:38', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'839dbe27-8904-437f-8a57-c929f2485a73', N'CQRS vs Cache', N'<p>На днях проводил блиц-доклад для коллег по следам <a href="http://blog.kievalt.net/post/3918985453/abdullin-cqrs-event" target="_blank">последней встречи Kiev Alt.Net</a>, на которой <a href="http://abdullin.com/" target="_blank">Ринат Абдуллин</a> рассказывал про <a href="http://abdullin.com/cqrs/" target="_blank">CQRS</a>. Сама встреча (Alt.Net) прошла отлично, о чем стоит написать отдельный пост. А пока продолжим тему о блиц-докладе.&nbsp;</p>
<p>Был задан один интересный вопрос -- что полезного дает CQRS по сравнению с банальным кэшем. Т.е. когда у нас нет разделение на читателей и писателей, а читающая часть просто кеширует данные из реляционной базы и выдает их для последующих запросов. Тут стоит заметить, что к вопросам я как-то не подготовился во время работы над докладом (прямо как один хлопец заявил у нас на собеседовании "блин, я ж просто не знал, что теорию нужно повторить, а вы тут меня валите" :) ), и пришлось ответ придумывать на ходу. Поскольку бугром в предметной области я ни разу не являюсь, конечно же придумалось не все и не сразу. На вопрос вроде ответил, но как-то неисчерпывающе что-ли.</p>
<p>После доклада я малость подумал еще и нашел ряд преимуществ, о которых и решил написать этот пост. Я даже думал не смотреть в интернет, а просто изложить свои соображения. Ну и после публикации свериться с гуру. Но как-то так получилось, что я, незаметно сам для себя, очнулся на <a href="https://groups.google.com/forum/#!topic/dddcqrs/OYqkaSCLF9w/discussion" target="_blank">обсуждении этого вопроса</a> в тематической гуглогруппе. Оказалось, что мои мысли практически совпадают с правильными.</p>
<!--more-->
<p>Итак:</p>
<p>1. Использование кэша не убирает чтение из нормализованной базы для представлений, а только уменьшает его. Когда запрос попадает мимо кэша, все равно нужно запрашивать базу, при этом выгребая все сопутствующие последствия.</p>
<p>В CQRS представления никогда не читают из нормализированной базы.</p>
<p>2. Поскольку читать все-таки нужно, нужно поддерживать инфраструктуру для такого чтения. А это значит -- запросы со многими джойнами, индексы в базе, средства чтения в уровнях доступа к данным и &nbsp;бизнес логики. База подтачивается для чтения, что будет подтормаживать запись в нее.</p>
<p>В CQRS писалка заточена под писульки, читалка -- под читульки.</p>
<p>3. Поддержание кэша актуальным может очень быстро стать весьма сложным делом. Если клиенты делают выборки по нескольким критериям, придется добавлять логику, которая будет проверять, а содержит ли кэш все множество запрашиваемых значений. Даже если такая логика будет построена, возникает проблема, а что же делать, если кэш не содержит всего? Перечитать все заново из базы, или добавить только недостающие данные? Тут мало того, что придется читать из базы, так еще и непонятно, что именно. А если мы не только добавляем данные, а еще и обновляем их в базе? Как обеспечить аналогичное обновление этих записей в Кеше?</p>
<p>В CQRS преставления обновляются паралельно с основным источником данных.</p>
<p>4. Кеш эффективен, когда он заполнен. А на этапе его заполнения (т.е. для первых запросов) данные берутся из базы, и приложение может проседать. Если мы читаем из кэша быстро, а из базы &ndash; не &nbsp; &nbsp; очень быстро, то у нас будет разница по времени выполнения запросов, когда мы попадаем в кэш, и когда -- нет. И эта разница может быть существенной. В результате одинаковые вроде бы запросы приложение будет обрабатывать то моментально, то по пару секунд/минут. И если для CQRS у нас причина задержек в принципе одна -- высокая загрузка, то в случае кэша задержка далеко не всегда будет вызвана загрузкой.</p>
<p>В CQRS производительность чтения более стабильна и линейна.</p>
<p>Итого, вроде как получается, что использование кеша более сложноt дело и даже будучи хорошо реализованным, не даст всех преимуществ CQRS, а именно -- скорость, масштабируемость и простота. Кстати, масштабируемость мы сознательно убрали из рассмотрения, потому что первоначальный вопрос звучал примерно так "А чем оно лучше кеша, если не рассматривать вещи типа Azure и масштабируемость?".</p>
<p>&nbsp;</p>', N'CQRS vs Cache', N'2011-04-07 15:11:41', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'0937d5a3-1018-4bc9-9c6f-c9b1ebbbb05c', N'И снова регулярные выражения', N'<p>Вы умеете пользвоваться регулярными выражениями? Если нет, то очень зря. Ведь владение этим, в общем-то нехитрым инструментарием дарит весьма существенное повышение вашей эффективности, как кодера.</p>
<h3>Случай из жизни</h3>
<p>В нашем проекте очень активно используется базовый класс со следующим методом:</p>
<pre class="brush:csharp">public virtual TTo Convert(Func from)</pre>
<p>И есть куча тестов, в которых этот метод мокается. Проблема в том, что ни один из известных мне мок-фреймворков не позволяет замокать делегат в аргументе простым путём (если есть решение, буду рад увидеть его в коментариях :) ). И в какой-то момент очень удачной показалась мысль сделать это примерно вот так (с помощью Rhino Mocks):</p>
<!--more-->
<pre class="brush:csharp">Expect.Call(myConverter.Convert(() =&gt; o.Input))
    .IgnoreArguments()
    .Constraints(Is.Matching&gt;(d =&gt; d() ==o.Input))
    .Return(expectedResult);
</pre>
<p>Мысль была настолько удачной, что такой код разпозлся по N+1 тестам, где N стремится к сотне.</p>
<p>Недавно меня посетила идея, что подход можно несколько причесать, используя extension methods, generics и NSubstitute. В результате вышеописанный кодпревращается в</p>
<pre class="brush:csharp">myConverter
    .ShouldConvert(o.Input)
	.To(expectedResult);
</pre>
<p>Под капотом есть немного магии, но о ней потом. Вопрос: как поменять стопицот сложных конструкций на столько же простых? И тут на помощь приходят регулярные выражения :)</p>
<p>Нужно в студии использовать функцию Replace All, где в качестве искомой строки ввести</p>
<p><strong>Expect\.Call\({:i}\.Convert\(\(\) =\&gt; {:i(\.:i(\.:i)*)*}\)\)\n.*\.IgnoreArguments\(\)\n.*\.Constraints.*\n.*.Return\({:i(\.:i(\.:i)*)*}\);</strong></p>
<p>ну а в качестве "заменить на":</p>
<p><strong>\1.ShouldConvert(\2).To(\3);</strong></p>
<p>C помощью нескольких нажатий на кнопки у нас все магическим образом переводится на новые рельсы.</p>
<h3>Как же оно работает?</h3>
<p>На самом деле все очень просто. Регулярные выражения могут показаться сложной материей, но это не так. пример выше будет проще понять, если узнать, что</p>
<ol>
<li>\ экранирует специальный символ;</li>
<li>. обозначает любой символ;</li>
<li>* значит "0 или больше вхождений";</li>
<li>:i &mdash; идентификатор</li>
</ol>
<p>и т.д.&nbsp;</p>
<p>Можно поискать по интернетам описание синтаксиса и примеров.&nbsp;Я рекомендую программу <a href="http://www.ultrapico.com/Expresso.htm" target="_blank">expresso </a>для ознакомления с синтаксисом, который используется в .NET, а также для разработки и анализа своих регулярных выражений. Поверьте, время, потраченное на изучение окупится очень быстро.</p>', N'И снова регулярные выражения', N'2012-08-01 08:49:58', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'cd57b033-ca42-4530-afe5-d10c2427c842', N'Меньше мыши -- больше клавы', N'<p>Программисты пишут код. Делают они это пока еще с помощью клавиатуры. С другой стороны, современный компьютер сложно себе представить без мышки. Она требуется для выполнения многих действий.&nbsp;</p>
<p>Я считаю, что мышка замедляет работу. И вот почему:</p>
<ol>
<li>Для того, чтобы ей воспользоваться, нужно переместить руку с клавиатуры на нее. А потом &mdash; назад.&nbsp;</li>
<li>Когда &nbsp;мы берем мышку в руку, требуется некоторое время, чтобы найти курсор. Мы или дергаем ее взад/вперед, или уверенно ведем к нужному месту, при этом пытаясь заметить заветную стрелочку.</li>
<li>Чтобы выполнить какое-то действие, часто нужно больше одного клика и движения (например, зайти в меню, потом подменю, открыть диалог, что-то в нем повыбирать, нажать кнопку OK).</li>
</ol>
<p>Все эти вещи занимают вроде не так много времени. Однако из-за того, что выполняются они очень часто, эти потери накапливаются. Плюс может непропорционально накачаться правая (или левая) рука :)</p>', N'Меньше мыши -- больше клавы', N'2012-12-26 03:59:43', 1)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'18cec5b6-9e27-4fab-bbdc-d1c92d197b07', N'TC гавно', N'<p>Поломался у нас hg репозиторий на тимсити.&nbsp;</p>
<p><span style="color: #cc0000; font-family: Menlo, ''Bitstream Vera Sans Mono'', ''Courier New'', Courier, monospace; font-size: 12px; line-height: 19.671875px; background-color: #ffffff;">stderr: abort: abandoned transaction found - run hg recover!&nbsp;</span></p>
<p>[[code]&nbsp;ls -Include .hg -Exclude buildagent -Recurse [code]]</p>
<p>C:\TeamCity\.BuildServer\system\caches\mercurial</p>
<p>[[code] ls hg_-* | %{pushd $_; hg recover; popd} [code]]</p>', N'TC гавно', N'2013-03-06 01:44:10', 1)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'7473caa2-0ad7-4a19-ba71-d49ab8bf7ed9', N'Убираем сборки зависимостей из репозитория', N'<p>Сто лет назад вышла версия 1.6 Nuget. Для меня это такой повседневный инструмент, типа ложки, в котором непонятно, что может быть нового :). Но в этой версии добавилась прикольная штука, а именно возможность не хранить бинарники зависимостей в репозитории. Действительно, нафиг это нужно, если в любой момент можно их вытянуть с самого nuget.&nbsp;</p>
<p>Воспользоваться этой фичей у меня получилось не сразу. Почему-то казалось, что оно само все заработает, после обновления nuget &mdash; но ничо подобного не произошло. Сборки зависимостей все также сохранялись в репозиторий и без них ничего собираться не хотелось. Печалька накапливалась и достигла критической массы, когда я решил разбораться и все порешать. Решение оказалось состоящим из двух шагов, первый из которых описан в официальном релизе <a href="http://docs.nuget.org/docs/Workflows/Using-NuGet-without-committing-packages" target="_blank">NuGet</a>, а второй я придумал сам. Нужно в игнор файле <strong>.[git|</strong><strong>hg]ignore</strong>&nbsp;прописать следующие строчки:</p>
<p><strong>packages/<br /></strong><strong>!nuget.exe</strong></p>
<p>А дальше оно уже само. И не будет запихивать файлы в репозиторий, и будет вытягивать их при сборке.</p>', N'Убираем сборки зависимостей из репозитория', N'2012-02-20 14:08:35', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'86305a11-a4de-4fe5-b2fd-d4a19169a305', N'TDD for JS', N'<p>Можно запускать тесты в браузере. При этом мы получаем нагладное красивое отображение прогресса тестов и их результатов. Но это не очень хорошо работает на CI сервере, где нам скорее всего не захочется открывать браузер. Также если у нас есть другой инструмент для запуска и отображения тестов (например, ReSharper&nbsp;<a href="http://blogs.jetbrains.com/dotnet/2012/07/unit-testing-improvements-in-resharper-7/" target="_blank">поддерживает</a>&nbsp;тестирование java script.) браузер нам не так уж и нужер. Прогрессивное JS человечество использует для тестирования <a href="http://phantomjs.org/" target="_blank">PhantomJS</a>.</p>
<p>[[code] cinst phantomjs&nbsp;[code]]</p>', N'TDD for JS', N'2013-03-06 22:47:31', 1)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'0c91375b-132f-4df9-8f20-d608cbdd56e6', N'git vs hg', N'<p><img style="float: left; margin: 5px;" src="https://lh6.googleusercontent.com/-F6MIQ9RBG0k/UTaIAhlfNpI/AAAAAAAAKiw/-9qu-2xz8o0/s600/mercurial-vs-git.jpg" alt="" width="350" height="200" />Недавно в моем окружении опять материализовался спор, что круче, mercurial или git. Я имел удовольствие плотно поиспользовать оба продукта и хочу изложить свое видение вопроса. Букв получилось много, поэтому это будет серия из нескольких постов.</p>
<h3>Disclaimer</h3>
<p>Последние полгода время я практически постоянно пользовался git. До этого большую часть занимал mercurial, и уже вторую неделю акцент основательно сместился в сторону последнего. Если вдруг покажется, что по моим выводам git получается лучше, чем hg, то это или правда, или я еще не вспомнил всей крутости меркуриала. [|more|]</p>
<h3>GUI</h3>
<p>Для многих этот параметр может стать решающим при выборе системы контроля версий. Из-за отличного во всех отношениях <a href="http://tortoisehg.bitbucket.org/" target="_blank">TortoiseHg</a>&nbsp;Mercurial попадает в лидеры. Но на самом деле есть крутые инструменты и для git. Я в свое время активно пользовался <a href="https://github.com/gitextensions/gitextensions" target="_blank">gitextensions</a>&nbsp;и до сих пор считаю его лучшим для git. С высоты птичьего полета функциональность обоих продуктов одинакова (визуальное отображение коммитов/изменений/ревизий, интергация с проводником/студией, возможность выполнения базовых операций с помощью манипулятора типа "мышь"/тачпада). Есть еще <a href="http://windows.github.com/" target="_blank">github for windows</a>, который работает не только с github, но и с обычными репозиториями, и предлагает модный интерфейс с урезаным функционалом (которого может хватить для 99% сценариев неискушенного пользователя). Ну и по умолчанию в стандартную поставку git входит такой себе gitk, который звезд с неба не хватает, и вполне сносно показывает историю.</p>
<h3>Консоль</h3>
<p>Про свое отношение к консоли я уже писал раньше. Оба инструмента для меня отлично работают в связке с powershell (с помощью posh-hg и posh-git соответственно). Правда, стоит отметить, что после git mercurial кажется несколько простецким. Как-то маловато опций и команд. С другой стороны в git их <a href="https://www.kernel.org/pub/software/scm/git/docs/git-log.html" target="_blank">многовато</a>. Но после некоторого времени начальный дискомфорт пропадает, хотя интерфейс git мне все же больше по душе.&nbsp;</p>
<h3>Документация</h3>
<p>Git ставится с web версией документации и при любом вопросе радостно открывает ее в браузере. Запрос по команде гита в гугле показывает ссылку на документацию в первой странице. Сама по себе документация весьма обильна и не всегда понятна (мне).&nbsp;</p>
<p>Меркуриал стыдливо показывает help в консоли, при этом не особо заморачиваясь тем, что она не влезет на экран (плагином pager это наверное можно полечить -- я не пробовал). От гугла свои доки они почему-то <a href="http://bit.ly/XUOi6a" target="_blank">прячут</a>.&nbsp;</p>
<p>Вообще сложилось впечатление, что помощь по git в интернетах получить проще.</p>
<h3>История коммитов</h3>
<p>По умолчанию оба инструмента показывают историю в слегка безумном виде: много букв и мало смысла, и оба же легко поддаются дрессировке с помощью алиасов (их можно без труда нагуглить, выглядят они <a href="https://gist.github.com/skalinets/3823521" target="_blank">примерно так</a>). В результате мы получаем аккуратненькие цветные логи с ASCII веточками. В git сразу встроен линуксовый pager а hg валит всю историю скопом. Но и туда можно прикрутить пейджер с помощью плагина pager (даже тот же линуксовый). Стоит также отметить, что на винде могут быть проблемы с отображением цветов в меркуриале, и это тоже исправляется с помощью другого плагина, color. Вообще hg со старта пустой как бубен, и все полезности подклчаются через плагины. Последние входят в инсталяцию меркуриала и для включения требуют лишь строчки в конфиге (или галочки в UI).</p>
<p>Но вернемся к истории. Несмотря на то, что количество переключателей в git версии команды log превышает показатели для коллеги из меркуриала в разы, то, что мне нужно, одинаково умеют показывать оба инструмента. Опять, таки, чисто субъективно у git эти команды более логичны.</p>
<h3>Ревизии</h3>
<p>Для работы с ревизиями (указание нужных ревизий, диапазонов и т.д.) оба кандидата представляют свой уникальный набор фич. git позволяет задавать ревизии не полностью, а по первым символам хеша, как только они уникальны. hg раньше этого вроде бы не умел, а сейчас вот научился, плюс он ведет двойную нумерацию ревизий &mdash; паралельно с хешами нумерует их по порядку, что в ряде случаев еще больше облегчает работу. Правда, здесь возможны казусы &mdash; сквозная нумерация может меняться при синхронизации с сервером, поэтому запоминать любимые коммиты лучше все же по хешу.</p>
<p>Также git предоставляет <a href="https://www.kernel.org/pub//software/scm/git/docs/gitrevisions.html" target="_blank">миллион способов</a> задать нужные ревизии, и hg, в свою очередь, представляет свои <a href="http://www.selenic.com/hg/help/revsets" target="_blank">заклинания</a>. Мне так и не довелось использовать все из них, но я рад, что они есть.</p>
<h3>Заключение</h3>
<p>На этом буду заканчивать первую часть сравнения. Пока получается паритет. В следующей части обсудим места, где две системы радикальнее разошлись в понимании "что такое хорошо".</p>', N'git vs hg', N'2013-02-28 22:51:06', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'6cc0c3ea-7c69-4a0b-b24c-d78adc98ad23', N'Ковровые бомбометания спасают вечер', N'<p>Такая вот задача: есть интерфейс с методом</p>
<p>[[code]</p>
<p>public void Setup();</p>
<p>[code]]</p>
<p>И есть стопятсот его реализаций (на самом деле <strong>92</strong>, но это достаточно немало для нашего сценария, как мы дальше увидим). На каком-то этапе разработчиков посетила мысль, что этот метод фактически выполняет роль конструктора и должен быть выпилен как из интерфейса, так и из классов. А логика из него должна быть перенесена в конструктор. Достаточно простое задание, но при этом весьма рутинное.</p>
<p>Вопрос: как сделать это наиболее оптимально?</p>
<p>Как вы уже могли догадаться, на помощь приходят регулярные выражения. В VS2012 (это важно &mdash; в предыдущих версиях синтаксис регулярных выражений несколько другой, если интересно &mdash; дайте об этом знать, я и для них опубликую выражение) открываем окошко <strong>Replace in Files</strong> (<strong>Ctrl-Shift-H</strong>), там выбираем режим <strong>Use Regular Expressions</strong>&nbsp;(<strong>Alt-E</strong>) пишем в строку найти:</p>
<p><strong>(public class (\w+)(.|\n)*public )override void SetUp</strong></p>
<p>а в строку заменить:</p>
<p><strong>$1 $2</strong></p>
<p>После этого в <strong>Scope</strong> выбираем <strong>Entire Solution</strong> и жмем <strong>Replace All </strong>(<strong>Alt-A</strong>).</p>
<p>Вуаля! Осталось только пройтись по ошибкам, ведь в некоторых классах уже есть конструкторы и компилятор может выразить свое недовольство, но в моем случае таких ошибок намного меньше, чем 92, и их очень быстро можно исправить. Исправляем, прогоняем тесты, комитим, пушим и думаем, на что можно потратить освобожденные час-полтора (может пост накатать в блог?).&nbsp;</p>
<p>Если вам интересна расшифровка этого выражения, дайте знать &mdash; опубликуем в следущий раз :)</p>', N'Как спасти вечер', N'2013-01-09 10:43:48', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'4972b4c3-2007-4e49-9e73-dbb0eab4c995', N'Resharper cheat sheet', N'<p><a href="https://lh4.googleusercontent.com/-kQYya5yhj_M/TfmwxJOSaYI/AAAAAAAAE94/5Rm2eveMTMA/s576/DC110616001.jpg" target="_blank"><img style="float: right; margin: 5px;" src="https://lh4.googleusercontent.com/-kQYya5yhj_M/TfmwxJOSaYI/AAAAAAAAE94/5Rm2eveMTMA/s576/DC110616001.jpg" alt="" width="150" height="200" /></a>Ого, оказывается уже месяц как я ничего не писал. Вместо постов в моем аутлуке расплодились таски под кодовым именем "идеи для блога" -- сейчас их уже 34 штуки. Я планирую в ближайшее время максимально перенести их из планов в блог.</p>
<p>Начну с наболевшего. Многие знают про и пользуются таким замечательным продуктом, как <a href="http://www.jetbrains.com/resharper/" target="_blank">ReSharper</a>. Многие согласятся, что лучшая производительность при кодировании достигается при минимальном использовании мышкой.&nbsp;<a href="http://www.jetbrains.com/resharper/" target="_blank">ReSharper</a>&nbsp;в этом деле оказывает просто неоценимую помощь. Проблема в том, что горячих клавиш много, и их сложно сразу запомнить. Что же делать? Кеп предлагает записывать. Но оказывается, что уже все сделано до нас. Вот ссылки на cheat sheets для <a title="православной" href="http://www.jetbrains.com/resharper/docs/ReSharper60DefaultKeymap_IDEA_scheme.pdf" target="_blank">православной</a>&nbsp;и <a href="http://www.jetbrains.com/resharper/docs/ReSharper60DefaultKeymap_VS_scheme.pdf" target="_blank">студийной</a> раскладок ReSharper. Доступны они как из гугла, так и со странички <a href="http://www.jetbrains.com/resharper/documentation/documentation.html" target="_blank">документации по ReSharper</a>.</p>
<p>Отличительная фишки их в том, что при определенных навыках работы с клеем или степлером и наличии принтера они превращаются в удобные и стильные пирамидки, которые всегда перед глазами (картинка справа кликабельна).</p>', N'Resharper cheat sheet', N'2011-06-16 00:20:55', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'c676c1c3-ea5e-49de-a40c-dbea0b457756', N'Agile Base Camp состоялась', N'<p><img style="float: left;" src="data:image/gif;base64,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" alt="" width="277" height="186" />В прошлую субботу, когда народ отдыхал на субботниках, в Киеве прошла конференция Agile Base Camp, которая оставила весьма позитивные воспоминания.</p>
<p>Очень понравилась организация. Конференция проходила в санатории <a href="http://ozerna.com.ua/" target="_blank">Пуща-Озерна</a> в Пуще-Водице. Санаторий отличается весьма запутанной структурой и все 4 сцены были разбросаны по нему в хаотическом порядке. Но организаторы напечатали супер карту в стиле Quake, которая стильно и доходчиво отображала действительность. Для доставки туда и назад были автобусы, &laquo;назад&raquo; причем отвезли в Бочку на Петровке, где DataArt всех закормили едой и напоили пивом.</p>
<!--more-->
<p>Были интересные доклады, однако все посмотреть не получилось из-за того, что доклады шли параллельно в четырех потоках. Я открыл для себя очень интересное явление &ndash; Lighting Talks. Это когда доклады идут непрерывно, и каждый из них ограничен 10 минутами. Практически все докладчики отожгли по полной программе. Для меня это было одним из самых ярких событий конференции.</p>
<p>Встретил нескольких старых знакомых и познакомился с новыми людьми. Забыл (в который раз) напечатать визитки, посему рискую быть забытым в свою очередь.</p>
<p>Но было и пару недочетов, самый печальный из которых &ndash; отсутствие видеосъемки. Для меня это грустно вдвойне, потому вдобавок к невозможности посмотреть все доклады, не получилось посмотреть на свое выступление со стороны. Доступны остались только <a href="http://kiev.agilebasecamp.org/prezentacii-s-konferencii/" target="_blank">презентации</a>.</p>
<p>Мой доклад прошел весьма ровно, народ пару раз (или один, или мне показалось?) смеялся, и потом задавали интересные вопросы. Не на все я ответил сразу, но зато есть повод для поста :)&nbsp;</p>
<p>В общем, конференция удалась, и мне очень приятно чуствовать себя причастным к этому.</p>
<p>PS. Чуть не забыл.. Я ж узнал новое слово -- <strong>СкрамНо</strong>&nbsp;(ударение на последнем слоге) -- это перевод термина <strong>ScrumBut</strong>.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>', N'Agile Base Camp состоялась', N'2011-04-20 08:26:20', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'ada87124-0ea7-4b11-abb4-e00c179c9f4c', N'Coderetreat в Одессе ', N'<p>Осень наступила, но до холодов еще время есть. И есть хороший повод съездить поближе к морю -- в Одессу. А все потому, что компания Lohika проводит <a href="http://lmgtfy.com/?q=what+is+code+retreat" target="_blank">coderetreat</a>, который организовывают <a href="https://twitter.com/dmytromindra" target="_blank">Дима Миндра</a>, <a href="https://twitter.com/alexbeletsky" target="_blank">Саша Белецкий</a> и <a href="https://twitter.com/skalinets" target="_self">я</a>.&nbsp;</p>
<p>Подобные мероприятия здорово раздвигают зону комфорта разработчиков, как и кругозор. В процессе решения простых задач приходит (для многих совершенно неожиданно) понимание, что все же есть куда еще расти. Можно сравнить свой код с коллегами и подчерпнуть что-то новое для себя. А может, и научить кого-то.</p>
<p>Целый день coding for fun, общения и позитива. Будет пиво и пицца. Хотите присоединиться? <a href="https://www.facebook.com/events/106367029517492/" target="_blank">Попробуйте</a>.</p>', N'Codereteat в Одессе ', N'2012-09-19 14:34:56', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'fd70872e-7214-43fb-95cf-e0e601bb7ca3', N'Что мне не нравится в C# (часть 2)', N'<p>Итак, продолжаем разговор :) Прошлая часть <a href="Post?postID=0df8ca8e-bd15-4795-be46-1d42b8464522" target="_blank">тут</a>.</p>
<h3>4. Расширение классов</h3>
<p>Тут речь пойдет об extension методах и partial классах. Обе фичи, безусловно, полезные и классные. Но реализация могла быть бы и получше. Вот, к примеру, extension методы &mdash; почему они определяются в других классах? Т.е. чтобы добавить к классу String метод ToInt() мне нужно заводить где-то еще один класс (статический), и в нем хитрым синтаксисом определять статический же метод. Почему бы не сделать все классы partial по умолчанию и не дописывать недостающие методы, как в Ruby:</p>
<p>public class String</p>
<p>{</p>
<p><span style="white-space: pre;"> </span>public int ToInt() { ... }</p>
<p>}</p>
<p>Если проблема только в нарушении инкапсуляции (а как же, вдруг юзер сломает наш уютненький класс изнутри?!), то может это вовсе и не проблема? Ведь при желании сломать все всегда можно (тот же Reflection, например). Нам же нужен мощный и удобный инструмент, а о технике безопасности мы ж сможем позаботится :)</p>
<h3>5. Расширение языка</h3>
<p>Тут конечно можно поспорить &mdash; а зачем оно нужно, это расширение? Может и не нужно, но есть, например, LINQ синтаксис, который абсолютно не C#, но при этом иногда очень удобен. А раз есть он, почему бы не дать возможность разработчикам самим расширять язык? Как делают это в Boo и Nemerle, например. С помощью макросов и квази цитат. Представьте, как удобно было бы работать с XML</p>', N'Что мне не нравится в C# (часть 2)', N'2012-07-06 08:16:30', 1)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'766be10c-48b6-402d-b33f-e32fb58a67e7', N'Квест: поиск документации по fubu MVC', N'<p>Fubu MVC очень крутая и классная вещь. Чтобы постичь всю ее крутоту и классность, я давно пытаюсь найти вменяемую документацию по ней. На удивление, это оказалось не таким уж простым делом :). Поиски напоминают квест, в котором получаешь удовольствие от процесса (а результата все нет -- но об этом дальше).&nbsp;</p>
<p>Итак, полистав интеренет, где ссылки, на которые <a href="http://lostechies.com/chadmyers/2011/06/23/cool-stuff-in-fubumvc-no-1-behaviors/" target="_blank">ссылаются</a> авторы fubu,&nbsp;<a href="http://guides.fubumvc.com/advanced_behaviors.html" target="_blank">выпилены</a>, я подумал, что документация эта небось скрыта в самом проекте. Тем более, что readme проекта описывает шаги, как эту самую документацию можно построить. Ага -- не преимущества фреймворка и инструкции, как взлететь, а построение доки. Выходит -- она и есть ключем к успеху понимания всей мощи.</p>
<p>Авторы фреймворка (который, кстати, расшифровывается, как <strong>F</strong>or <strong>U</strong>s <strong>B</strong>y <strong>U</strong>s) решили не искать легких путей. И в результате документация строится с помощью Python движка Sphinx, который запускается через Ruby сборщик Rake. &nbsp;Именно так - Ruby запускает Python, который строит документацию для .NET фреймворка. Недавно меня сами эти слова бы напугали настолько, что я бы и думать не стал все это запускать. Но не сейчас.</p>
<!--more-->
<p>Сейчас у меня есть могучий инструментарий, с которым я не боюсь ничего. С недавних пор я усиленно внедряю в свою жизнь <a href="http://sourceforge.net/projects/console/" target="_blank">консоль</a>, и результаты, как говорица, налицо. Многие задачи стали делаться намного быстрее, а другие -- стали просто возможны. Вот раньше я бы обломался ставить себе Ruby и прочую лабуду, чуждую .NET разработчику. Потому что это было сложно и долго -- поискать в тырнете, скачать, запустить, пнуть какие-то батники.</p>
<p>А сегодня я беру и делаю следующее (все в одной консоли):</p>
<p>Скачиваю себе fubu: <strong>git clone&nbsp;git://github.com/DarthFubuMVC/fubumvc.git</strong></p>
<p>Читаю <strong>readme</strong>, где пишут, что нужно поставить себе Sphinx. Для этого нужно, чтобы заработал<strong> easy_install</strong>, а на 64 битной Windows для этого нужно <a href="http://pypi.python.org/pypi/setuptools" target="_blank">пнуть какой-то хитрый скрипт</a>. Вместо того, чтобы его качать и запускать, я пробую трюк, о котором впервые услышал от <a href="https://twitter.com/#!/chaliy" target="_blank">Миши Чалого</a>. Трюк состоит в том, чтобы прочитать скрипт из тырнетов и запустить его одной командой:&nbsp;&nbsp;</p>
<p><strong>(New-Object Net.WebClient).DownloadString("http://peak.telecommunity.com/dist/ez_setup.py") |&nbsp;python</strong></p>
<p>В результате консоль наполняется буковками и циферками, из которых понятно, что фокус удался и теперь можно делать вот такое:</p>
<p><strong>easy_install -U Sphinx</strong></p>
<p>Тут циферок и буковок появляется в разы больше, но в конце неизменный успех. Сфинкс установлен -- ура! Можно собирать документацию.&nbsp;</p>
<p>Останавливает только то, что у меня нет Ruby. Но у меня есть <a href="http://chocolatey.org/" target="_blank">Chocolatey</a>, и поэтому я в той же консоли пишу втупую <strong>cinst ruby</strong>. Что-то после этого происходит в компьютере, после чего у меня появляется Ruby. И остается только в папке <strong>fubumvc</strong> сказать&nbsp;<strong>InstallGems.bat</strong>, а потом -- <strong>rake:docs html</strong>.</p>
<p>Ура!!! Документация создана! С гордо поднятой головой мы идем в папку <strong>./docs/build/html </strong>и видим там... тоже самое, что и&nbsp;<a href="http://mvc.fubu-project.org/documentation/" target="_blank">здесь</a>. То есть, ничего нового.</p>
<p>Но зато, у меня теперь есть Ruby, куча чего-то полезного для нее (него?) и для Python. Получилось, что результат достигнут не был, но процесс оказался очень познавательным и интересным.&nbsp;</p>', N'Квест: поиск документации по fubu MVC', N'2012-02-12 14:45:33', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'c5831754-0068-40f7-8a75-e831439aef9e', N'Зачем нужны юнит тесты, часть 2', N'<p><span lang="RU">Бывают ли у вас приступы предвидения? Вот у меня бывают. Пару часов назад я вдруг подумал, что показывать картинки на своем сайте с других источников не совсем хорошая идея. Вдруг они пропадут?! И еще подумал, что надо бы сделать какой-то картинко хостинг... А после этого захожу на сайт, чтобы дописать вторую часть перевода статьи про юнит тесты (первая часть</span>&nbsp;<a href="Post?postID=149325ed-0efc-4d05-8676-36890543cb10" target="_blank"><span lang="RU">тут</span></a><span lang="RU">), и, оказывается, что оригинал статьи куда-то пропал вместе с картинкой </span>:)<span lang="RU">.</span></p>
<p><span lang="RU">Хорошо, что есть гуглокеш, и гуглопоиск, которые помогли мне найти копию той картинки, хоть и в худшем качестве. Красоту я практически восстановил &ndash; продолжим наш рассказ о пользе юнит тестов. На чем мы там остановились?</span></p>
<!--more-->
<p><span lang="RU">Остановились мы на сложности кода. Кроме упрощения самого кода </span>TDD<span lang="RU"> аккуратненько так подталкивает к дроблению кода на меньшие автономные классы. Почему? Потому что чем класс меньше, тем его легче тестировать. А если класс содержит сложную логику в приватном методе, который используется в других методах, то очень хорошим решением будет вынести эту логику в отдельный класс. Этот класс отдельно тестируется, а тесты на первоначальный класс проверяют, что он вызывается. В итоге получается много маленьких хорошо оттестированных классов, каждый из которых достаточно хорошо устойчив к изменениям.</span></p>
<p><span lang="RU">Поначалу такой подход вызывает проявления праведного гнева. "Делать отдельный класс для того, чтобы вынести в него только один метод?! Это же тупняк. К тому же они будет постоянно создаваться, и удаляться &ndash; так мы посадим нашу производительность". Но я вам скажу, что это все неправда. Маленькие классы с маленькими методами проще пишутся, лучше понимаются и легче изменяются. А создание/удаление объектов нынче весьма быстро.</span>&nbsp;</p>
<p><span lang="RU">Следующий момент &ndash; регрессия. Очень часто, при добавлении нового почему-то ломается старое. Некоторые ошибки достаточно просто отследить. Например, когда оно не компилируется, или падает при старте. Но большинство ошибок, связанных с логикой, очень ловко прячутся. Юнит тесты помогают их находить (при условии, что они правильные; но мы тут говорим только о правильных юнит тестах :</span><span lang="RU">). Все тесты запускаются очень часто -- намного чаще, чем </span>QA<span lang="RU"> команда прогоняет полные циклы своего тестирования. Один падающий тест сделает полоску красной и заставит обратить на себя внимание.</span></p>
<p><span lang="RU">И последний на сегодня, но не вообще, пункт &ndash; удовлетворение. Где-то я слышал, что человеческому мозгу нравится доделывать свои дела до конца. Когда дело сделано &ndash; мы ставим себе галочку и с воодушевлением беремся за следующее дело. Когда же мы беремся за следующее дело, потому что текущее не получается, воодушевления несколько меньше. Так вот, </span>&nbsp;TDD c<span lang="RU"> этой точки зрения выглядит как много последовательных небольших шагов, у каждого из которого есть позитивный результат. Этот результат можно очень просто пронаблюдать, просто запустив тесты и увидев, что они все зеленые. </span></p>
<p><span lang="RU">Итак, что у нас получается? Мое мнение (которое разделяет и автор мною переводимой статьи) &ndash; </span>TDD <span lang="RU">наполняет сознание спокойствием и умиротворением. Не нужно переживать, не сломалось ли где что; архитектура получается сама собой; всегда понятно, чем можно заняться дальше; постоянно есть ощущение движения вперед без оглядки назад. Мне такое положение дел решительно нравится :).</span></p>', N'Зачем нужны юнит тесты, часть 2', N'2011-03-12 14:34:27', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'f6d69b86-2451-4141-a97a-f404a53180fd', N'Зачем просто если можно сложно?', N'<p>Иногда попытки написать идеальный код доводят до абсурда. Вот на что я наткнулся в нашем проекте:</p>
<pre class="brush: csharp;">public void RiseMessageProcessedEvent(int? incomingId, int? outgoingId)
{
    var args = CreateEventArgs();

    if (incomingId.HasValue)
        args.ChangedMessagesData.Add(
                CreateMessageChangeData(incomingId.Value, MessageDirection.Incoming));

    if (outgoingId.HasValue)
        args.ChangedMessagesData.Add(
                CreateMessageChangeData(outgoingId.Value, MessageDirection.Outgoing));

    EventService.FireEvent(NotificationEvents.MessageProcessed, args);
}
</pre>
<p>Благие намерения -- использовать один и тот же код для разных типов оповещений. Но реализация вызывает вопросы. В глаза бросается суровый копипаст, аргументы выполняют две обязанности (передают значения и являются флагами) и выглядит это все страшненько. А самое интересное, что везде этот метод вызывается с null для одного из аргументов.&nbsp;</p>
<p>Лучше переписать этот метод вот так:</p>
<pre class="brush: csharp;">public void RiseMessageProcessedEvent(int messageId, MessageDirection messageDirection)
{
    var args = CreateEventArgs();

    args.ChangedMessagesData.Add(CreateMessageChangeData(messageId, messageDirection));

    EventService.FireEvent(NotificationEvents.MessageProcessed, args);
}
</pre>
<p>В результате те же два параметра, но меньше кода и больше понятности.</p>', N'Зачем просто если можно сложно?', N'2012-01-18 04:23:37', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'9312491b-a8e5-4baa-b7e5-f637da89eeff', N'Запуск тестов по порядку', N'<p>Все современные ранеры тестов обладают следующими характеристиками:</p>
<ol>
<li>Тесты запускаются в произвольном порядке</li>
<li>Тесты запускаются паралельно</li>
</ol>
<p>Это сделано с благими намерениями. Первая фича позволяет отловить зависимые тесты, это когда одни тесты влияют на другие. И результаты запусков тестов могут отличаться, в зависимости, в каком порядке они запускались. Вторая фича позволяет быстрее выполнять тесты, выполняя их паралельно.</p>
<p>Но иногда нам нужно выполнить тесты последовательно. Порядок может быть произвольным, но два теста не должны быть запущены в один момент. Такое часто бывает необходимо для интеграционных тестов. Собственно, написать этот пост меня побудила работа над тестом, который взаимодействует с файловой системой. [|more|]</p>
<p>Итак, у нас такой сценарий. В начале работы теста мы создаем папку, тест что-то с ней делает, и в конце нам нужно эту папку удалить. Если мы работаем с xUnit, вроде бы все решается с помощью <strong>IDisposable</strong>:</p>
<p>[[code]</p>
<p>public class FileBasedXXXTester : IDisposable</p>
<p>{</p>
<p>&nbsp; &nbsp; private readonly string path;</p>
<p>&nbsp; &nbsp; private readonly string filename;</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; public FileBasedXXXTester()</p>
<p>&nbsp; &nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; path = "test";</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; filename = Path.Combine(path, "yoba.txt");</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; Directory.CreateDirectory(path);</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; File.WriteAllText(filename, "42");</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; [Fact]</p>
<p>&nbsp; &nbsp; public void answer_2_ultimate_question_of_life_universe_and_everything_should_be_42()</p>
<p>&nbsp; &nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; File.ReadAllText(filename).Should().Be("42");</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; [Fact]</p>
<p>&nbsp; &nbsp; public void answer_2_ultimate_question_of_life_universe_and_everything_should_not_be_43()</p>
<p>&nbsp; &nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; File.ReadAllText(filename).Should().NotBe("43");</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; public void Dispose()</p>
<p>&nbsp; &nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; Directory.Delete(path, recursive: true);</p>
<p>&nbsp; &nbsp; }</p>
<p>}</p>
<p>[code]]</p>
<p>Но тут одна проблемка. Тестов у нас два, они могут запуститься параллельно и раз в сто лет может случиться так. что в одном потоке у нас папка удалиться в тот момент, когда второй будет из нее что-то читать. В результате кто-то останется обиженным, а у нас появится красный тест. Причем в следующий раз этот тест может позеленеть, а через еще сто лет второй тест станет красным. Такие тесты на языке наших некогда вероятных противников называются blinking. Или еще &mdash; нестабильными.</p>
<p>Тесты такие не нравятся разработчикам, и вера в тесты пропадает. Реакция на красный билд может быть такой: "наверное опять тесты мигнули, ничо &mdash; в следующий запуск позеленеют". В итоге красного билда никто не боится, а это &mdash; прямой путь к анархии и беспорядкам.</p>
<p>Как же это порешать? В некоторых ранерах можно установить режим, чтобы тесты выполнялись последовательно. Но это малость геморно, работать будет только для того раннера, который мы подхачили и скорее всего только на одном компе. Лучше попробовать решить проблему массово.&nbsp;</p>
<p>Модель расширеня xUnit позволяет изменять <a href="http://brice-lambson.blogspot.de/2012/04/xunitnet-extensibility.html" target="_blank">порядок выполнения тестов</a> и, скорее всего, можно напилить свой аттрибут, который бы делал то, что нам нужно. Но для одного тестового класса писать аттрибут как-то много чести.&nbsp;</p>
<p>Вместо этого мы можем использовать банальную синхронизацию потоков. Поначалу я хотел использовать сигнальные ивенты, а именно <a href="http://msdn.microsoft.com/en-us/library/system.threading.autoresetevent.aspx" target="_blank">AutoResetEvent</a>, но в таком сценарии он оказался малость капризным. Поэтому в финальном решении у нас <a href="http://msdn.microsoft.com/en-us/library/system.threading.monitor.aspx" target="_blank">Monitor</a>:</p>
<p>[[code]</p>
<p>&nbsp;</p>
<p>public class FileBasedXXXTester : IDisposable</p>
<p>{</p>
<p>&nbsp; &nbsp; private readonly string path;</p>
<p>&nbsp; &nbsp; private readonly string filename;</p>
<p>&nbsp; &nbsp; private static readonly object o = new object(); &nbsp; // &lt;-------</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; public FileBasedXXXTester()</p>
<p>&nbsp; &nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; Monitor.Enter(o); &nbsp; &nbsp;// &lt;-------</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; path = "test";</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; filename = Path.Combine(path, "yoba.txt");</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; Directory.CreateDirectory(path);</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; File.WriteAllText(filename, "42");</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; [Fact]</p>
<p>&nbsp; &nbsp; public void answer_2_ultimate_question_of_life_universe_and_everything_should_be_42()</p>
<p>&nbsp; &nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; File.ReadAllText(filename).Should().Be("42");</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; [Fact]</p>
<p>&nbsp; &nbsp; public void answer_2_ultimate_question_of_life_universe_and_everything_should_not_be_43()</p>
<p>&nbsp; &nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; File.ReadAllText(filename).Should().NotBe("43");</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; public void Dispose()</p>
<p>&nbsp; &nbsp; {</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; Directory.Delete(path, recursive: true);</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; Monitor.Exit(o); &nbsp; // &lt;-------</p>
<p>&nbsp; &nbsp; }</p>
<p>}</p>
<p>&nbsp;</p>
<p>[code]]</p>
<p>Я пометил строчки, которые добавил. Получилось, что мы создали объект синхронизации, в конструкторе теста мы его лочим, а в методе Dispose() &mdash; отпускаем. Дешево и сердито. А тест в результате всегда зеленый. Если код работает правильно, конечно же :)</p>', N'Запуск тестов по порядку', N'2013-04-17 04:09:52', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'ec3881a6-752f-4686-a0b8-f7224d99bda0', N'Совет по разрешению конфликтов из-за переименований', N'<p>Часто случаются ситуации, когда вы переименовали какой-то класс или интерфейс или еще что-то; а ваш коллега наплодил его использования в других местах. Вы забираете последнюю версию исходников, и в итоге в локальной копии жертва переименования в одних местах называется по-новому, а в других -- (СЮРПРИЗ!) по-старому. Что делать?&nbsp;</p>
<p>Можно по старинке -- попробовать Replace All. Но я хочу предложить другой, более быстрый и потенциально безопасный способ. Нужно с помощью Resharper переименовать сначала новое имя в старое, а потом -- назад в новое. В итоге останется только ваше, правильное имя.</p>
<p>И не забудьте сразу после этого вкомитится. Пусть теперь коллега парится с переименованием, если что :)</p>', N'Совет по разрешению конфликтов из-за переименований', N'2011-06-28 13:43:01', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'620b53e9-45b6-4df7-93ff-fc94eb7f2b8b', N'Про доску, карточки и прогресс', N'<p>Мне нравится доска для скрама. Обычная, пробковая, расчерченная полосочками, со шпильками и карточками. Это отличный информационный радиатор, который позволяет команде ощущать свой прогресс. Также доска показывает окружающим, что здесь используют (или по крайней мере пытаются) делать agile процесс. Люди на собеседованиях спрашивают "о, у вас скрам?", соседние команды завидуют "конечно, у вас там скрам". В общем -- очень полезная штука.</p>
<p>У доски есть все же несколько недостатков. Нужно как-то делать карточки, вешать, передвигать их и так далее. Плюс в нашей команде так получилось, что стала доступна JIRA + Greenhopper, где есть электронная доска и все активности можно делать с помощью мышки и клавы. Но электрика душу не греет, и поэтому от обычной доски отказываться не хочется. С другой стороны -- хочется как-то уменьшить количество рутины.</p>
<!--more-->
<p>Одной из рутин до недавнего времени для нас было заполнение карточек. Мы использовали разноцветные маркеры, и красиво переписывали таски с JIRA. Если по чесноку, то это было несколько утомительно. И однажды, во время очередного вынесения скоупа спринта на доску коллега спросил "а может есть что-то, что бы само напечатало карточки из жиры?" И через минуту им же в гугле был найден <a href="http://www.spartez.com/en/products-plugins-jira-idea.html" target="_blank">ответ</a>.&nbsp;</p>
<p>Теперь мы не рисуем карточки, а печатаем их. Получается быстро и красиво. Доска продолжает нас радовать и греть :). Выглядит она вот так:</p>
<p><img src="https://lh6.googleusercontent.com/-Q8mZSvORm8o/ThLHzQ_WuPI/AAAAAAAAFP8/teHKAvOKwjk/s720/DC110630001.jpg" alt="" width="720" height="540" /></p>
<p>Вы все еще рисуете свои карточки?</p>', N'Про доску, маркеры и прогресс', N'2011-07-05 01:15:31', 0)
INSERT INTO [dbo].[Posts] ([ID], [Title], [Text], [Index], [Posted], [IsDraft]) VALUES (N'092b456f-f617-418e-b16b-fe9c9d817b52', N'Тестовый пост', N'<p>Это типа тест. А это типа код:</p>
<p>[[code]public class Foo&nbsp;</p>
<p>{</p>
<p><span style="white-space: pre;"> </span>void Boo() {}</p>
<p>}[code]]</p>
<p>[[code]public class Foo()</p>
<p>{</p>
<p><span style="white-space: pre;"> </span>anotherText;</p>
<p><span style="white-space: pre;"> </span>if (true)</p>
<p><span style="white-space: pre;"> </span>{</p>
<p><span style="white-space: pre;"> <span style="white-space: pre;"> </span></span>thisIsSomeCode(false);</p>
<p><span style="white-space: pre;"> </span>this(3);</p>
<p><span style="white-space: pre;"> </span>test(5);</p>
<p><span style="white-space: pre;"> </span>}</p>
<p>}</p>
<p>[code]]</p>', N'Тестовый пост', N'2012-09-19 01:10:55', 1)
